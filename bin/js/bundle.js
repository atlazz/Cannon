var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameScene_1 = require("./script/runtime/GameScene");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/runtime/GameScene.ts", GameScene_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "game/GameScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/runtime/GameScene":6}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** version */
exports.VERSION = "1.0.0";
/** pages */
exports.URL_HomeView = "home/HomeView.scene";
exports.URL_GameScene = "game/GameScene.scene";
exports.URL_OverView = "over/OverView.scene";
exports.URL_ReviveView = "dialog/ReviveView.scene";
/** camera */
exports.CameraInitPos = new Laya.Vector3(0, 0, 0);
exports.CameraInitRotEuler = new Laya.Vector3(0, 0, 0);
/** directional light */
exports.LightInitPos = new Laya.Vector3(0, 5, 0);
exports.LightInitRotEuler = new Laya.Vector3(-45, 0, 0);
/** platform */
exports.PlatformInitPos = new Laya.Vector3(0, -3, -15);
exports.PlatformInitRot = new Laya.Vector3(0, 37, 0);
exports.PlatformWidth = 5;
exports.PlatformHeight = 0.3;
exports.PlatformStandRadius = 0.3;
exports.PlatformStandHeight = 10;
// winning check frame
exports.WinCheckTime = 180;
/** cube piece */
exports.CubePieceResUrl = "res/cube_piece.lm";
exports.CubePiecesNum = 3;
exports.CubeBrokenTime = 120;
/** bullet */
exports.BulletResUrl = "res/bullet.lh";
exports.BulletInitPos = new Laya.Vector3(-0.1, -1, -4);
exports.BulletInitRot = new Laya.Vector3(180, 0, 0);
exports.BulletRadius = 0.15;
/** player */
exports.PlayerResUrl = "res/human.lh";
exports.PlayerInitPos = new Laya.Vector3(0, -0.6, -1);
exports.PlayerInitRot = new Laya.Vector3(90, 168, 0);
exports.PlayerInitScale = new Laya.Vector3(20, 20, 20);
exports.PlayerShootLifeTime = 10;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Const = require("../Const");
var GameScene_1 = require("../runtime/GameScene");
var Cube = /** @class */ (function (_super) {
    __extends(Cube, _super);
    function Cube() {
        var _this = _super.call(this) || this;
        _this._type = 1 /* DEFAULT */;
        _this.isHit = false;
        _this.velocityBroken = 10;
        _this.collisionWhiteList = ["bullet", "cube"];
        /** cube pieces */
        _this.cubePiecesList = [];
        _this.cubePiecesPosList = [];
        _this.cubePiecesRotList = [];
        _this.cubePiecesFrameIdx = Const.CubeBrokenTime;
        return _this;
    }
    Cube.prototype.onAwake = function () {
        this.cube = this.owner;
        this.initCubePieces();
    };
    Object.defineProperty(Cube.prototype, "type", {
        get: function () {
            return this._type;
        },
        set: function (v) {
            this._type = v;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Cube.prototype, "width", {
        get: function () {
            return this._width;
        },
        set: function (v) {
            this._width = v;
        },
        enumerable: true,
        configurable: true
    });
    Cube.prototype.onCollisionEnter = function (collision) {
        var bullet = collision.other.owner;
        var bullet_idx = this.collisionWhiteList.indexOf(bullet.name);
        if (bullet_idx >= 0) {
            if (this.type === 2 /* GLASS */) {
                // 高速度可击碎
                var velocity = bullet.getComponent(Laya.Rigidbody3D).linearVelocity.clone();
                var velocityValue = Math.sqrt(Math.pow(velocity.x, 2) + Math.pow(velocity.y, 2) + Math.pow(velocity.z, 2));
                if (velocityValue >= this.velocityBroken) {
                    this.isHit = true;
                    this.hitPoint = collision.other.owner.transform.localPosition.clone();
                }
            }
        }
    };
    Cube.prototype.onUpdate = function () {
        if (this.isHit) {
            if (this.type === 2 /* GLASS */) {
                this.broken();
            }
        }
    };
    Cube.prototype.broken = function () {
        // play broken sound
        var _this = this;
        // change to pieces
        this.effectCubeBroken(this.cube.transform.position.clone());
        Laya.timer.frameOnce(1, this, function () {
            _this.cube.removeSelf();
        });
    };
    /** init cube pieces */
    Cube.prototype.initCubePieces = function () {
        var _this = this;
        Laya.Mesh.load(Const.CubePieceResUrl, Laya.Handler.create(this, function (mesh) {
            var cubePiece = new Laya.MeshSprite3D(mesh);
            var mat = new Laya.BlinnPhongMaterial();
            mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            mat.albedoColor = new Laya.Vector4(0.7, 0.7, 1, 0.7);
            cubePiece.meshRenderer.material = mat;
            cubePiece.active = false;
            var pieceRigid = cubePiece.addComponent(Laya.Rigidbody3D);
            var pieceColliderShape = new Laya.MeshColliderShape();
            pieceColliderShape.mesh = cubePiece.meshFilter.sharedMesh;
            pieceRigid.colliderShape = pieceColliderShape;
            for (var i = 0; i < Const.CubePiecesNum; i++) {
                _this.cubePiecesList.push(cubePiece.clone());
                GameScene_1.default.instance.scene3D.addChild(_this.cubePiecesList[i]);
                _this.cubePiecesPosList.push(new Laya.Vector3());
                _this.cubePiecesRotList.push(new Laya.Vector3());
            }
        }));
    };
    /** cube broken to pieces */
    Cube.prototype.effectCubeBroken = function (worldPos) {
        for (var idx in this.cubePiecesList) {
            this.cubePiecesList[idx].active = true;
            this.cubePiecesList[idx].transform.position = worldPos.clone();
            // pos
            this.cubePiecesPosList[idx].x = (Math.random() - 0.5) * 2;
            this.cubePiecesPosList[idx].y = (Math.random() - 0.5) * 2;
            this.cubePiecesPosList[idx].z = (Math.random() - 0.5) * 2;
            Laya.Vector3.scale(this.cubePiecesPosList[idx], 1, this.cubePiecesPosList[idx]);
            // rot
            this.cubePiecesRotList[idx].x = (Math.random() - 0.5) * 2;
            this.cubePiecesRotList[idx].y = (Math.random() - 0.5) * 2;
            this.cubePiecesRotList[idx].z = (Math.random() - 0.5) * 2;
            Laya.Vector3.scale(this.cubePiecesRotList[idx], 90, this.cubePiecesRotList[idx]);
            // size scale
            var rand_scale = (Math.random() * 0.3 + 0.7) * this.width * 2;
            this.cubePiecesList[idx].transform.localScale = new Laya.Vector3(rand_scale, rand_scale, rand_scale);
            this.cubePiecesList[idx].getComponent(Laya.Rigidbody3D).linearVelocity = this.cubePiecesPosList[idx].clone();
        }
        // start looping
        this.cubePiecesFrameIdx = 0;
        Laya.timer.frameLoop(1, this, this.cubePiecesLoop);
    };
    /** cube breaking loop */
    Cube.prototype.cubePiecesLoop = function () {
        var flag = false;
        for (var idx in this.cubePiecesList) {
            if (this.cubePiecesFrameIdx >= Const.CubeBrokenTime) {
                flag = true;
                this.cubePiecesList[+idx].active = false;
            }
        }
        this.cubePiecesFrameIdx++;
        if (flag) {
            Laya.timer.clear(this, this.cubePiecesLoop);
        }
    };
    return Cube;
}(Laya.Script3D));
exports.default = Cube;
},{"../Const":3,"../runtime/GameScene":6}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Const = require("../Const");
var Platform = /** @class */ (function (_super) {
    __extends(Platform, _super);
    function Platform() {
        var _this = _super.call(this) || this;
        _this.winCount = 0;
        _this.collisionWhiteList = ["cube"];
        return _this;
    }
    Platform.prototype.onAwake = function () {
        this.platform = this.owner;
    };
    Platform.prototype.onUpdate = function () {
        this.winCount++;
        if (this.winCount > Const.WinCheckTime) {
            // player win
            console.log("You win.");
        }
    };
    Platform.prototype.onCollisionStay = function (collision) {
        if (this.collisionWhiteList.indexOf(collision.other.owner.name) >= 0) {
            this.winCount = 0;
        }
    };
    return Platform;
}(Laya.Script3D));
exports.default = Platform;
},{"../Const":3}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../../ui/layaMaxUI");
var Const = require("../Const");
var Platform_1 = require("../component/Platform");
var Cube_1 = require("../component/Cube");
var GameScene = /** @class */ (function (_super) {
    __extends(GameScene, _super);
    function GameScene() {
        var _this = _super.call(this) || this;
        _this.cubeList = [];
        _this.cubeNumX = 4;
        _this.cubeNumY = 4;
        _this.cubeNumZ = 3;
        _this.bulletRadius = 0.02;
        _this.bulletVelocity = 1;
        _this.bulletDirection = new Laya.Vector3();
        _this.shootTime = -1;
        /** raycast */
        _this.mousePoint = new Laya.Vector2();
        _this.ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));
        _this.hitResult = new Laya.HitResult();
        GameScene.instance = _this;
        _this.initScene3D();
        _this.initGameStage();
        _this.initPlayer();
        _this.initBullet();
        return _this;
    }
    /**
     * 打开该单例页面，触发onOpened
     * @param param  onOpened方法的传参
     */
    GameScene.openInstance = function (param) {
        if (GameScene.instance) {
            GameScene.instance.onOpened(param);
            // GameScene.instance.showTutorial();
        }
        else {
            Laya.Scene.open(Const.URL_GameScene, false, param);
        }
    };
    GameScene.prototype.onOpened = function (param) {
        this.visible = true;
        // this.state = Const.GameState.READY;
    };
    ;
    /** initialize scene */
    GameScene.prototype.initScene3D = function () {
        // add scene
        this.scene3D = Laya.stage.addChild(new Laya.Scene3D());
        // camera
        this.camera = this.scene3D.addChild(new Laya.Camera());
        this.camera.transform.localPosition = Const.CameraInitPos.clone();
        this.camera.transform.localRotationEuler = Const.CameraInitRotEuler.clone();
        // direction light
        this.directionLight = this.scene3D.addChild(new Laya.DirectionLight());
        this.directionLight.transform.localPosition = Const.LightInitPos.clone();
        this.directionLight.transform.localRotationEuler = Const.LightInitRotEuler.clone();
    };
    /** initialize game stage */
    GameScene.prototype.initGameStage = function () {
        /** init platform */
        this.initPlatfrom();
        /** init cube */
        this._cube = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1));
        this._cube.name = "cube";
        var cubeRigid = this._cube.addComponent(Laya.Rigidbody3D);
        cubeRigid.colliderShape = new Laya.BoxColliderShape(1, 1, 1);
        cubeRigid.mass = 1;
        // cubeRigid.restitution = 0.2;
        // cubeRigid.friction = 10;
        // cubeRigid.rollingFriction = 0;
        // // block physics sim
        // cubeRigid.angularFactor = new Laya.Vector3(0, 0, 0);
        // cubeRigid.linearFactor = new Laya.Vector3(0, 0, 0);
        /** game stage */
        var cubeNum = this.cubeNumX * this.cubeNumY * this.cubeNumZ;
        var tmp = this.cubeNumX > this.cubeNumY ? this.cubeNumX : this.cubeNumY;
        tmp = this.cubeNumZ > this.cubeNumY ? this.cubeNumZ : this.cubeNumY;
        var padding = 1;
        this.cubeWidth = (Const.PlatformWidth - padding * 2) / tmp;
        var initX = (this.cubeNumX % 2 == 1) ? (-Math.floor(this.cubeNumX / 2) * this.cubeWidth) : (this.cubeWidth / 2 - this.cubeNumX / 2 * this.cubeWidth);
        var initY = (Const.PlatformHeight + this.cubeWidth) / 2;
        var initZ = (this.cubeNumZ % 2 == 1) ? (-Math.floor(this.cubeNumZ / 2) * this.cubeWidth) : (this.cubeWidth / 2 - this.cubeNumZ / 2 * this.cubeWidth);
        for (var x = 0; x < this.cubeNumX; x++) {
            for (var y = 0; y < this.cubeNumY; y++) {
                for (var z = 0; z < this.cubeNumZ; z++) {
                    var cube = this._cube.clone();
                    cube.transform.localScale = new Laya.Vector3(this.cubeWidth, this.cubeWidth, this.cubeWidth);
                    cube.transform.localPosition = new Laya.Vector3(initX + this.cubeWidth * x, initY + this.cubeWidth * y, initZ + this.cubeWidth * z);
                    this.platform.addChild(cube);
                    var cubeScript = cube.addComponent(Cube_1.default);
                    cubeScript.type = 2 /* GLASS */;
                    cubeScript.width = this.cubeWidth;
                    this.cubeList.push(cubeScript);
                }
            }
        }
    };
    /** initialize platfrom */
    GameScene.prototype.initPlatfrom = function () {
        /** platform */
        // create mesh
        this.platform = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(Const.PlatformWidth, Const.PlatformHeight, Const.PlatformWidth));
        this.scene3D.addChild(this.platform);
        this.platform.addComponent(Platform_1.default);
        this.platform.transform.localPosition = Const.PlatformInitPos.clone();
        this.platform.transform.localRotationEuler = Const.PlatformInitRot.clone();
        // set physics
        var collider = this.platform.addComponent(Laya.PhysicsCollider);
        collider.colliderShape = new Laya.BoxColliderShape(Const.PlatformWidth, Const.PlatformHeight, Const.PlatformWidth);
        /** stand */
        // create mesh
        this.platform_stand = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCylinder(Const.PlatformStandRadius, Const.PlatformStandHeight));
        this.platform.addChild(this.platform_stand);
        this.platform_stand.transform.localPosition = new Laya.Vector3(0, -Const.PlatformStandHeight / 2, 0);
        // set physics
        var collider_stand = this.platform_stand.addComponent(Laya.PhysicsCollider);
        collider_stand.colliderShape = new Laya.CylinderColliderShape(Const.PlatformStandRadius, Const.PlatformStandHeight);
    };
    /** initialize player */
    GameScene.prototype.initPlayer = function () {
        var _this = this;
        Laya.Sprite3D.load(Const.PlayerResUrl, Laya.Handler.create(this, function (res) {
            _this.player = res;
            _this.scene3D.addChild(_this.player);
            _this.playerAni = _this.player.getComponent(Laya.Animator);
            _this.player.transform.localPosition = Const.PlayerInitPos.clone();
            _this.player.transform.localRotationEuler = Const.PlayerInitRot.clone();
            _this.player.transform.localScale = Const.PlayerInitScale.clone();
            _this.player.name = "player";
            var shadowMat = _this.player.getChildByName("shadow_0").meshRenderer.material;
            shadowMat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            shadowMat.albedoColorA = 0.2;
            // mouse click event listen: shoot a bullet
            Laya.stage.on(Laya.Event.CLICK, _this, _this.onClick);
            // onUpdate
            _this.gameStart();
        }));
    };
    /** initialize bullet */
    GameScene.prototype.initBullet = function () {
        this._bullet = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(Const.BulletRadius));
        /** set physic */
        var bulletRigid = this._bullet.addComponent(Laya.Rigidbody3D);
        // set collieder shape
        bulletRigid.colliderShape = new Laya.SphereColliderShape(Const.BulletRadius);
        // quick moving detecion
        bulletRigid.ccdMotionThreshold = 0.0001;
        bulletRigid.ccdSweptSphereRadius = Const.BulletRadius;
        // mass
        bulletRigid.mass = 1;
        /** trasform */
        this._bullet.transform.localPosition = Const.BulletInitPos.clone();
        this._bullet.transform.localRotationEuler = Const.BulletInitRot.clone();
        this._bullet.name = "_bullet";
    };
    /** game start */
    GameScene.prototype.gameStart = function () {
        var _this = this;
        // shooting animation
        this.playerAni.getDefaultState().clip.islooping = true;
        this.playerAni.play();
        Laya.timer.frameLoop(1, this, function () {
            // game state check
            // play shooting animation
            _this.shootTime--;
            if (_this.shootTime < 0) {
                // stop playing
                _this.playerAni.speed = 0;
            }
        });
    };
    /** mouse click event: shoot a bullet */
    GameScene.prototype.onClick = function () {
        // play shoot animation
        this.shootTime = Const.PlayerShootLifeTime;
        this.playerAni.speed = 1;
        // get ray
        this.mousePoint.x = Laya.MouseManager.instance.mouseX;
        this.mousePoint.y = Laya.MouseManager.instance.mouseY;
        this.camera.viewportPointToRay(this.mousePoint, this.ray);
        // get bullet shooting direction
        if (this.scene3D.physicsSimulation.rayCast(this.ray, this.hitResult, 30)) {
            // direction vector: [bullet init point] to [mouse hit point]
            Laya.Vector3.subtract(this.hitResult.point, Const.BulletInitPos, this.bulletDirection);
        }
        else {
            // direction vector: [camera point] to [mouse hit point]
            var aV3 = new Laya.Vector3();
            // ray direction scale: to depth scaleZ
            var scaleV = this.camera.farPlane;
            scaleV = 12;
            Laya.Vector3.scale(this.ray.direction, scaleV, aV3);
            // direction vector: [bullet init point] to [camera point]
            var bV3 = new Laya.Vector3();
            Laya.Vector3.subtract(this.camera.transform.position, Const.BulletInitPos, bV3);
            // direction vector: [bullet init point] to [mouse hit point]
            Laya.Vector3.add(aV3, bV3, this.bulletDirection);
        }
        Laya.Vector3.normalize(this.bulletDirection, this.bulletDirection);
        this.bulletVelocity = 50;
        Laya.Vector3.scale(this.bulletDirection, this.bulletVelocity, this.bulletDirection);
        // generate bullet
        var bullet = this._bullet.clone();
        bullet.name = "bullet";
        this.scene3D.addChild(bullet);
        var bulletRigid = bullet.getComponent(Laya.Rigidbody3D);
        bulletRigid.linearVelocity = this.bulletDirection.clone();
    };
    return GameScene;
}(layaMaxUI_1.ui.game.GameSceneUI));
exports.default = GameScene;
},{"../Const":3,"../component/Cube":4,"../component/Platform":5,"./../../ui/layaMaxUI":7}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var game;
    (function (game) {
        var GameSceneUI = /** @class */ (function (_super) {
            __extends(GameSceneUI, _super);
            function GameSceneUI() {
                return _super.call(this) || this;
            }
            GameSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("game/GameScene");
            };
            return GameSceneUI;
        }(Scene));
        game.GameSceneUI = GameSceneUI;
        REG("ui.game.GameSceneUI", GameSceneUI);
    })(game = ui.game || (ui.game = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9Db25zdC50cyIsInNyYy9zY3JpcHQvY29tcG9uZW50L0N1YmUudHMiLCJzcmMvc2NyaXB0L2NvbXBvbmVudC9QbGF0Zm9ybS50cyIsInNyYy9zY3JpcHQvcnVudGltZS9HYW1lU2NlbmUudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRyx3REFBa0Q7QUFDbEQ7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyw2QkFBNkIsRUFBQyxtQkFBUyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLHNCQUFzQixDQUFDO0lBQ3RDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxJQUFJLENBQUM7SUFDbEIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxCLDJDQUFzQztBQUN0QztJQUNDO1FBQ0MsZ0JBQWdCO1FBQ2hCLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQVUsQ0FBQyxLQUFLLEVBQUUsb0JBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQzs7WUFDbEUsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBVSxDQUFDLEtBQUssRUFBRSxvQkFBVSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUNuRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsb0JBQVUsQ0FBQyxTQUFTLENBQUM7UUFDNUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsb0JBQVUsQ0FBQyxVQUFVLENBQUM7UUFDOUMsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEdBQUcsb0JBQVUsQ0FBQyxpQkFBaUIsQ0FBQztRQUUxRCxvREFBb0Q7UUFDcEQsSUFBSSxvQkFBVSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxNQUFNO1lBQUUsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDOUYsSUFBSSxvQkFBVSxDQUFDLFlBQVksSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUM7WUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUMzRixJQUFJLG9CQUFVLENBQUMsSUFBSTtZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUU3QixnREFBZ0Q7UUFDaEQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3JJLENBQUM7SUFFRCw4QkFBZSxHQUFmO1FBQ0MsK0NBQStDO1FBQy9DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0lBQ2pHLENBQUM7SUFFRCw2QkFBYyxHQUFkO1FBQ0MsWUFBWTtRQUNaLG9CQUFVLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLG9CQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUNGLFdBQUM7QUFBRCxDQS9CQSxBQStCQyxJQUFBO0FBQ0QsT0FBTztBQUNQLElBQUksSUFBSSxFQUFFLENBQUM7Ozs7QUNsQ1gsY0FBYztBQUNELFFBQUEsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUUvQixZQUFZO0FBQ0MsUUFBQSxZQUFZLEdBQVcscUJBQXFCLENBQUM7QUFDN0MsUUFBQSxhQUFhLEdBQVcsc0JBQXNCLENBQUM7QUFDL0MsUUFBQSxZQUFZLEdBQVcscUJBQXFCLENBQUM7QUFDN0MsUUFBQSxjQUFjLEdBQVcseUJBQXlCLENBQUM7QUFFaEUsYUFBYTtBQUNBLFFBQUEsYUFBYSxHQUFpQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN4RCxRQUFBLGtCQUFrQixHQUFpQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUUxRSx3QkFBd0I7QUFDWCxRQUFBLFlBQVksR0FBaUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdkQsUUFBQSxpQkFBaUIsR0FBaUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUUzRSxlQUFlO0FBQ0YsUUFBQSxlQUFlLEdBQWlCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3RCxRQUFBLGVBQWUsR0FBaUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0QsUUFBQSxhQUFhLEdBQVcsQ0FBQyxDQUFDO0FBQzFCLFFBQUEsY0FBYyxHQUFXLEdBQUcsQ0FBQztBQUM3QixRQUFBLG1CQUFtQixHQUFXLEdBQUcsQ0FBQztBQUNsQyxRQUFBLG1CQUFtQixHQUFXLEVBQUUsQ0FBQztBQUM5QyxzQkFBc0I7QUFDVCxRQUFBLFlBQVksR0FBVyxHQUFHLENBQUM7QUFTeEMsaUJBQWlCO0FBQ0osUUFBQSxlQUFlLEdBQVcsbUJBQW1CLENBQUM7QUFDOUMsUUFBQSxhQUFhLEdBQVcsQ0FBQyxDQUFDO0FBQzFCLFFBQUEsY0FBYyxHQUFXLEdBQUcsQ0FBQztBQUUxQyxhQUFhO0FBQ0EsUUFBQSxZQUFZLEdBQVcsZUFBZSxDQUFDO0FBQ3ZDLFFBQUEsYUFBYSxHQUFpQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM3RCxRQUFBLGFBQWEsR0FBaUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDMUQsUUFBQSxZQUFZLEdBQVcsSUFBSSxDQUFDO0FBRXpDLGFBQWE7QUFDQSxRQUFBLFlBQVksR0FBVyxjQUFjLENBQUM7QUFDdEMsUUFBQSxhQUFhLEdBQWlCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1RCxRQUFBLGFBQWEsR0FBaUIsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0QsUUFBQSxlQUFlLEdBQWlCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzdELFFBQUEsbUJBQW1CLEdBQVcsRUFBRSxDQUFDOzs7O0FDbEQ5QyxnQ0FBa0M7QUFDbEMsa0RBQTZDO0FBRTdDO0lBQWtDLHdCQUFhO0lBbUIzQztRQUFBLFlBQ0ksaUJBQU8sU0FDVjtRQWxCTyxXQUFLLG1CQUFrQztRQUd2QyxXQUFLLEdBQVksS0FBSyxDQUFDO1FBR3ZCLG9CQUFjLEdBQVcsRUFBRSxDQUFDO1FBRTVCLHdCQUFrQixHQUFhLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRTFELGtCQUFrQjtRQUNWLG9CQUFjLEdBQXdCLEVBQUUsQ0FBQztRQUN6Qyx1QkFBaUIsR0FBbUIsRUFBRSxDQUFDO1FBQ3ZDLHVCQUFpQixHQUFtQixFQUFFLENBQUM7UUFDdkMsd0JBQWtCLEdBQVcsS0FBSyxDQUFDLGNBQWMsQ0FBQzs7SUFJMUQsQ0FBQztJQUVELHNCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUEwQixDQUFDO1FBQzVDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUMxQixDQUFDO0lBRUQsc0JBQUksc0JBQUk7YUFBUjtZQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN0QixDQUFDO2FBRUQsVUFBUyxDQUFTO1lBQ2QsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDbkIsQ0FBQzs7O09BSkE7SUFNRCxzQkFBSSx1QkFBSzthQUFUO1lBQ0ksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7YUFFRCxVQUFVLENBQVM7WUFDZixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNwQixDQUFDOzs7T0FKQTtJQU1ELCtCQUFnQixHQUFoQixVQUFpQixTQUF5QjtRQUN0QyxJQUFJLE1BQU0sR0FBc0IsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUEwQixDQUFDO1FBQzNFLElBQUksVUFBVSxHQUFXLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RFLElBQUksVUFBVSxJQUFJLENBQUMsRUFBRTtZQUNqQixJQUFJLElBQUksQ0FBQyxJQUFJLGtCQUF5QixFQUFFO2dCQUNwQyxTQUFTO2dCQUNULElBQUksUUFBUSxHQUFrQixNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQXNCLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNoSCxJQUFJLGFBQWEsR0FBVyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ILElBQUksYUFBYSxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7b0JBQ3RDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO29CQUNsQixJQUFJLENBQUMsUUFBUSxHQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsS0FBdUIsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO2lCQUM1RjthQUNKO1NBQ0o7SUFDTCxDQUFDO0lBRUQsdUJBQVEsR0FBUjtRQUNJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNaLElBQUksSUFBSSxDQUFDLElBQUksa0JBQXlCLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUNqQjtTQUNKO0lBQ0wsQ0FBQztJQUVPLHFCQUFNLEdBQWQ7UUFDSSxvQkFBb0I7UUFEeEIsaUJBUUM7UUFMRyxtQkFBbUI7UUFDbkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUU7WUFDMUIsS0FBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCx1QkFBdUI7SUFDZiw2QkFBYyxHQUF0QjtRQUFBLGlCQXFCQztRQXBCRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxVQUFDLElBQUk7WUFDakUsSUFBSSxTQUFTLEdBQXNCLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUMvRCxJQUFJLEdBQUcsR0FBNEIsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUNqRSxHQUFHLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxzQkFBc0IsQ0FBQztZQUNoRSxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNyRCxTQUFTLENBQUMsWUFBWSxDQUFDLFFBQVEsR0FBRyxHQUFHLENBQUM7WUFDdEMsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFFekIsSUFBSSxVQUFVLEdBQXFCLFNBQVMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzVFLElBQUksa0JBQWtCLEdBQTJCLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDOUUsa0JBQWtCLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDO1lBQzFELFVBQVUsQ0FBQyxhQUFhLEdBQUcsa0JBQWtCLENBQUM7WUFFOUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzFDLEtBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO2dCQUM1QyxtQkFBUyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDNUQsS0FBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO2dCQUNoRCxLQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7YUFDbkQ7UUFDTCxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVELDRCQUE0QjtJQUNyQiwrQkFBZ0IsR0FBdkIsVUFBd0IsUUFBc0I7UUFDMUMsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ2pDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUN2QyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQy9ELE1BQU07WUFDTixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2hGLE1BQU07WUFDTixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFD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V0FBVyxDQUFDLENBQUM7UUFDMUUsV0FBVyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzlELENBQUM7SUFDTCxnQkFBQztBQUFELENBaFFBLEFBZ1FDLENBaFFzQyxjQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsR0FnUXpEOzs7OztBQ25RRCxJQUFPLEtBQUssR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0FBQ3hCLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO0FBQzdDLElBQWMsRUFBRSxDQVNmO0FBVEQsV0FBYyxFQUFFO0lBQUMsSUFBQSxJQUFJLENBU3BCO0lBVGdCLFdBQUEsSUFBSTtRQUNqQjtZQUFpQywrQkFBSztZQUNsQzt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsb0NBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JDLENBQUM7WUFDTCxrQkFBQztRQUFELENBTkEsQUFNQyxDQU5nQyxLQUFLLEdBTXJDO1FBTlksZ0JBQVcsY0FNdkIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxXQUFXLENBQUMsQ0FBQztJQUMzQyxDQUFDLEVBVGdCLElBQUksR0FBSixPQUFJLEtBQUosT0FBSSxRQVNwQjtBQUFELENBQUMsRUFUYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFTZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi9zY3JpcHQvcnVudGltZS9HYW1lU2NlbmVcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiZ2FtZS9HYW1lU2NlbmUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49dHJ1ZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L3J1bnRpbWUvR2FtZVNjZW5lLnRzXCIsR2FtZVNjZW5lKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIvKiogdmVyc2lvbiAqL1xyXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMS4wLjBcIjtcclxuXHJcbi8qKiBwYWdlcyAqL1xyXG5leHBvcnQgY29uc3QgVVJMX0hvbWVWaWV3OiBzdHJpbmcgPSBcImhvbWUvSG9tZVZpZXcuc2NlbmVcIjtcclxuZXhwb3J0IGNvbnN0IFVSTF9HYW1lU2NlbmU6IHN0cmluZyA9IFwiZ2FtZS9HYW1lU2NlbmUuc2NlbmVcIjtcclxuZXhwb3J0IGNvbnN0IFVSTF9PdmVyVmlldzogc3RyaW5nID0gXCJvdmVyL092ZXJWaWV3LnNjZW5lXCI7XHJcbmV4cG9ydCBjb25zdCBVUkxfUmV2aXZlVmlldzogc3RyaW5nID0gXCJkaWFsb2cvUmV2aXZlVmlldy5zY2VuZVwiO1xyXG5cclxuLyoqIGNhbWVyYSAqL1xyXG5leHBvcnQgY29uc3QgQ2FtZXJhSW5pdFBvczogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKTtcclxuZXhwb3J0IGNvbnN0IENhbWVyYUluaXRSb3RFdWxlcjogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKTtcclxuXHJcbi8qKiBkaXJlY3Rpb25hbCBsaWdodCAqL1xyXG5leHBvcnQgY29uc3QgTGlnaHRJbml0UG9zOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDUsIDApO1xyXG5leHBvcnQgY29uc3QgTGlnaHRJbml0Um90RXVsZXI6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoLTQ1LCAwLCAwKTtcclxuXHJcbi8qKiBwbGF0Zm9ybSAqL1xyXG5leHBvcnQgY29uc3QgUGxhdGZvcm1Jbml0UG9zOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIC0zLCAtMTUpO1xyXG5leHBvcnQgY29uc3QgUGxhdGZvcm1Jbml0Um90OiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDM3LCAwKTtcclxuZXhwb3J0IGNvbnN0IFBsYXRmb3JtV2lkdGg6IG51bWJlciA9IDU7XHJcbmV4cG9ydCBjb25zdCBQbGF0Zm9ybUhlaWdodDogbnVtYmVyID0gMC4zO1xyXG5leHBvcnQgY29uc3QgUGxhdGZvcm1TdGFuZFJhZGl1czogbnVtYmVyID0gMC4zO1xyXG5leHBvcnQgY29uc3QgUGxhdGZvcm1TdGFuZEhlaWdodDogbnVtYmVyID0gMTA7XHJcbi8vIHdpbm5pbmcgY2hlY2sgZnJhbWVcclxuZXhwb3J0IGNvbnN0IFdpbkNoZWNrVGltZTogbnVtYmVyID0gMTgwO1xyXG5cclxuLyoqIGN1YmUgKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gQ3ViZVR5cGUge1xyXG4gICAgREVGQVVMVCA9IDEsXHJcbiAgICBHTEFTUyA9IDIsXHJcbiAgICBUTlQgPSAzXHJcbn1cclxuXHJcbi8qKiBjdWJlIHBpZWNlICovXHJcbmV4cG9ydCBjb25zdCBDdWJlUGllY2VSZXNVcmw6IHN0cmluZyA9IFwicmVzL2N1YmVfcGllY2UubG1cIjtcclxuZXhwb3J0IGNvbnN0IEN1YmVQaWVjZXNOdW06IG51bWJlciA9IDM7XHJcbmV4cG9ydCBjb25zdCBDdWJlQnJva2VuVGltZTogbnVtYmVyID0gMTIwO1xyXG5cclxuLyoqIGJ1bGxldCAqL1xyXG5leHBvcnQgY29uc3QgQnVsbGV0UmVzVXJsOiBzdHJpbmcgPSBcInJlcy9idWxsZXQubGhcIjtcclxuZXhwb3J0IGNvbnN0IEJ1bGxldEluaXRQb3M6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoLTAuMSwgLTEsIC00KTtcclxuZXhwb3J0IGNvbnN0IEJ1bGxldEluaXRSb3Q6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoMTgwLCAwLCAwKTtcclxuZXhwb3J0IGNvbnN0IEJ1bGxldFJhZGl1czogbnVtYmVyID0gMC4xNTtcclxuXHJcbi8qKiBwbGF5ZXIgKi9cclxuZXhwb3J0IGNvbnN0IFBsYXllclJlc1VybDogc3RyaW5nID0gXCJyZXMvaHVtYW4ubGhcIjtcclxuZXhwb3J0IGNvbnN0IFBsYXllckluaXRQb3M6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgLTAuNiwgLTEpO1xyXG5leHBvcnQgY29uc3QgUGxheWVySW5pdFJvdDogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMyg5MCwgMTY4LCAwKTtcclxuZXhwb3J0IGNvbnN0IFBsYXllckluaXRTY2FsZTogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygyMCwgMjAsIDIwKTtcclxuZXhwb3J0IGNvbnN0IFBsYXllclNob290TGlmZVRpbWU6IG51bWJlciA9IDEwO1xyXG4iLCJpbXBvcnQgKiBhcyBDb25zdCBmcm9tIFwiLi4vQ29uc3RcIjtcclxuaW1wb3J0IEdhbWVTY2VuZSBmcm9tIFwiLi4vcnVudGltZS9HYW1lU2NlbmVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmUgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuICAgIHByaXZhdGUgY3ViZTogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcblxyXG4gICAgcHJpdmF0ZSBfdHlwZTogbnVtYmVyID0gQ29uc3QuQ3ViZVR5cGUuREVGQVVMVDtcclxuICAgIHByaXZhdGUgX3dpZHRoOiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0hpdDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBoaXRQb2ludDogTGF5YS5WZWN0b3IzO1xyXG5cclxuICAgIHByaXZhdGUgdmVsb2NpdHlCcm9rZW46IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHByaXZhdGUgY29sbGlzaW9uV2hpdGVMaXN0OiBzdHJpbmdbXSA9IFtcImJ1bGxldFwiLCBcImN1YmVcIl07XHJcblxyXG4gICAgLyoqIGN1YmUgcGllY2VzICovXHJcbiAgICBwcml2YXRlIGN1YmVQaWVjZXNMaXN0OiBMYXlhLk1lc2hTcHJpdGUzRFtdID0gW107XHJcbiAgICBwcml2YXRlIGN1YmVQaWVjZXNQb3NMaXN0OiBMYXlhLlZlY3RvcjNbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjdWJlUGllY2VzUm90TGlzdDogTGF5YS5WZWN0b3IzW10gPSBbXTtcclxuICAgIHByaXZhdGUgY3ViZVBpZWNlc0ZyYW1lSWR4OiBudW1iZXIgPSBDb25zdC5DdWJlQnJva2VuVGltZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKSB7XHJcbiAgICAgICAgdGhpcy5jdWJlID0gdGhpcy5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICB0aGlzLmluaXRDdWJlUGllY2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHR5cGUodjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IHY7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgd2lkdGgodjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2O1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sbGlzaW9uRW50ZXIoY29sbGlzaW9uOiBMYXlhLkNvbGxpc2lvbik6IHZvaWQge1xyXG4gICAgICAgIGxldCBidWxsZXQ6IExheWEuTWVzaFNwcml0ZTNEID0gY29sbGlzaW9uLm90aGVyLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIGxldCBidWxsZXRfaWR4OiBudW1iZXIgPSB0aGlzLmNvbGxpc2lvbldoaXRlTGlzdC5pbmRleE9mKGJ1bGxldC5uYW1lKTtcclxuICAgICAgICBpZiAoYnVsbGV0X2lkeCA+PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09IENvbnN0LkN1YmVUeXBlLkdMQVNTKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDpq5jpgJ/luqblj6/lh7vnoo5cclxuICAgICAgICAgICAgICAgIGxldCB2ZWxvY2l0eTogTGF5YS5WZWN0b3IzID0gKGJ1bGxldC5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkgYXMgTGF5YS5SaWdpZGJvZHkzRCkubGluZWFyVmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgIGxldCB2ZWxvY2l0eVZhbHVlOiBudW1iZXIgPSBNYXRoLnNxcnQoTWF0aC5wb3codmVsb2NpdHkueCwgMikgKyBNYXRoLnBvdyh2ZWxvY2l0eS55LCAyKSArIE1hdGgucG93KHZlbG9jaXR5LnosIDIpKTtcclxuICAgICAgICAgICAgICAgIGlmICh2ZWxvY2l0eVZhbHVlID49IHRoaXMudmVsb2NpdHlCcm9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpdFBvaW50ID0gKGNvbGxpc2lvbi5vdGhlci5vd25lciBhcyBMYXlhLlNwcml0ZTNEKS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzSGl0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT09IENvbnN0LkN1YmVUeXBlLkdMQVNTKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnJva2VuKCkge1xyXG4gICAgICAgIC8vIHBsYXkgYnJva2VuIHNvdW5kXHJcblxyXG4gICAgICAgIC8vIGNoYW5nZSB0byBwaWVjZXNcclxuICAgICAgICB0aGlzLmVmZmVjdEN1YmVCcm9rZW4odGhpcy5jdWJlLnRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpKTtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgxLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3ViZS5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXQgY3ViZSBwaWVjZXMgKi9cclxuICAgIHByaXZhdGUgaW5pdEN1YmVQaWVjZXMoKSB7XHJcbiAgICAgICAgTGF5YS5NZXNoLmxvYWQoQ29uc3QuQ3ViZVBpZWNlUmVzVXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChtZXNoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjdWJlUGllY2U6IExheWEuTWVzaFNwcml0ZTNEID0gbmV3IExheWEuTWVzaFNwcml0ZTNEKG1lc2gpO1xyXG4gICAgICAgICAgICBsZXQgbWF0OiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtYXQucmVuZGVyTW9kZSA9IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsLlJFTkRFUk1PREVfVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMC43LCAwLjcsIDEsIDAuNyk7XHJcbiAgICAgICAgICAgIGN1YmVQaWVjZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXQ7XHJcbiAgICAgICAgICAgIGN1YmVQaWVjZS5hY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwaWVjZVJpZ2lkOiBMYXlhLlJpZ2lkYm9keTNEID0gY3ViZVBpZWNlLmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICAgICAgbGV0IHBpZWNlQ29sbGlkZXJTaGFwZTogTGF5YS5NZXNoQ29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLk1lc2hDb2xsaWRlclNoYXBlKCk7XHJcbiAgICAgICAgICAgIHBpZWNlQ29sbGlkZXJTaGFwZS5tZXNoID0gY3ViZVBpZWNlLm1lc2hGaWx0ZXIuc2hhcmVkTWVzaDtcclxuICAgICAgICAgICAgcGllY2VSaWdpZC5jb2xsaWRlclNoYXBlID0gcGllY2VDb2xsaWRlclNoYXBlO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDb25zdC5DdWJlUGllY2VzTnVtOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3ViZVBpZWNlc0xpc3QucHVzaChjdWJlUGllY2UuY2xvbmUoKSk7XHJcbiAgICAgICAgICAgICAgICBHYW1lU2NlbmUuaW5zdGFuY2Uuc2NlbmUzRC5hZGRDaGlsZCh0aGlzLmN1YmVQaWVjZXNMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3ViZVBpZWNlc1Bvc0xpc3QucHVzaChuZXcgTGF5YS5WZWN0b3IzKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdWJlUGllY2VzUm90TGlzdC5wdXNoKG5ldyBMYXlhLlZlY3RvcjMoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGN1YmUgYnJva2VuIHRvIHBpZWNlcyAqL1xyXG4gICAgcHVibGljIGVmZmVjdEN1YmVCcm9rZW4od29ybGRQb3M6IExheWEuVmVjdG9yMykge1xyXG4gICAgICAgIGZvciAobGV0IGlkeCBpbiB0aGlzLmN1YmVQaWVjZXNMaXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3ViZVBpZWNlc0xpc3RbaWR4XS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmN1YmVQaWVjZXNMaXN0W2lkeF0udHJhbnNmb3JtLnBvc2l0aW9uID0gd29ybGRQb3MuY2xvbmUoKTtcclxuICAgICAgICAgICAgLy8gcG9zXHJcbiAgICAgICAgICAgIHRoaXMuY3ViZVBpZWNlc1Bvc0xpc3RbaWR4XS54ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjtcclxuICAgICAgICAgICAgdGhpcy5jdWJlUGllY2VzUG9zTGlzdFtpZHhdLnkgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyO1xyXG4gICAgICAgICAgICB0aGlzLmN1YmVQaWVjZXNQb3NMaXN0W2lkeF0ueiA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDI7XHJcbiAgICAgICAgICAgIExheWEuVmVjdG9yMy5zY2FsZSh0aGlzLmN1YmVQaWVjZXNQb3NMaXN0W2lkeF0sIDEsIHRoaXMuY3ViZVBpZWNlc1Bvc0xpc3RbaWR4XSk7XHJcbiAgICAgICAgICAgIC8vIHJvdFxyXG4gICAgICAgICAgICB0aGlzLmN1YmVQaWVjZXNSb3RMaXN0W2lkeF0ueCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDI7XHJcbiAgICAgICAgICAgIHRoaXMuY3ViZVBpZWNlc1JvdExpc3RbaWR4XS55ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjtcclxuICAgICAgICAgICAgdGhpcy5jdWJlUGllY2VzUm90TGlzdFtpZHhdLnogPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyO1xyXG4gICAgICAgICAgICBMYXlhLlZlY3RvcjMuc2NhbGUodGhpcy5jdWJlUGllY2VzUm90TGlzdFtpZHhdLCA5MCwgdGhpcy5jdWJlUGllY2VzUm90TGlzdFtpZHhdKTtcclxuICAgICAgICAgICAgLy8gc2l6ZSBzY2FsZVxyXG4gICAgICAgICAgICBsZXQgcmFuZF9zY2FsZSA9IChNYXRoLnJhbmRvbSgpICogMC4zICsgMC43KSAqIHRoaXMud2lkdGggKiAyO1xyXG4gICAgICAgICAgICB0aGlzLmN1YmVQaWVjZXNMaXN0W2lkeF0udHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBuZXcgTGF5YS5WZWN0b3IzKHJhbmRfc2NhbGUsIHJhbmRfc2NhbGUsIHJhbmRfc2NhbGUpO1xyXG5cclxuICAgICAgICAgICAgKHRoaXMuY3ViZVBpZWNlc0xpc3RbaWR4XS5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkgYXMgTGF5YS5SaWdpZGJvZHkzRCkubGluZWFyVmVsb2NpdHkgPSB0aGlzLmN1YmVQaWVjZXNQb3NMaXN0W2lkeF0uY2xvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc3RhcnQgbG9vcGluZ1xyXG4gICAgICAgIHRoaXMuY3ViZVBpZWNlc0ZyYW1lSWR4ID0gMDtcclxuICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLmN1YmVQaWVjZXNMb29wKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogY3ViZSBicmVha2luZyBsb29wICovXHJcbiAgICBwcml2YXRlIGN1YmVQaWVjZXNMb29wKCkge1xyXG4gICAgICAgIGxldCBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4IGluIHRoaXMuY3ViZVBpZWNlc0xpc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3ViZVBpZWNlc0ZyYW1lSWR4ID49IENvbnN0LkN1YmVCcm9rZW5UaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3ViZVBpZWNlc0xpc3RbK2lkeF0uYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdWJlUGllY2VzRnJhbWVJZHgrKztcclxuICAgICAgICBpZiAoZmxhZykge1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMuY3ViZVBpZWNlc0xvb3ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCAqIGFzIENvbnN0IGZyb20gXCIuLi9Db25zdFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxhdGZvcm0gZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuICAgIHByaXZhdGUgcGxhdGZvcm06IExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgIHByaXZhdGUgd2luQ291bnQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBjb2xsaXNpb25XaGl0ZUxpc3Q6IHN0cmluZ1tdID0gW1wiY3ViZVwiXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IHRoaXMub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy53aW5Db3VudCsrO1xyXG4gICAgICAgIGlmICh0aGlzLndpbkNvdW50ID4gQ29uc3QuV2luQ2hlY2tUaW1lKSB7XHJcbiAgICAgICAgICAgIC8vIHBsYXllciB3aW5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJZb3Ugd2luLlwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkNvbGxpc2lvblN0YXkoY29sbGlzaW9uOiBMYXlhLkNvbGxpc2lvbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmNvbGxpc2lvbldoaXRlTGlzdC5pbmRleE9mKGNvbGxpc2lvbi5vdGhlci5vd25lci5uYW1lKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2luQ291bnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCAqIGFzIENvbnN0IGZyb20gXCIuLi9Db25zdFwiO1xyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuLi9jb21wb25lbnQvQnVsbGV0XCI7XHJcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vY29tcG9uZW50L1BsYXRmb3JtXCI7XHJcbmltcG9ydCBDdWJlIGZyb20gXCIuLi9jb21wb25lbnQvQ3ViZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgdWkuZ2FtZS5HYW1lU2NlbmVVSSB7XHJcbiAgICBzdGF0aWMgaW5zdGFuY2U6IEdhbWVTY2VuZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIOaJk+W8gOivpeWNleS+i+mhtemdou+8jOinpuWPkW9uT3BlbmVkXHJcbiAgICAgKiBAcGFyYW0gcGFyYW0gIG9uT3BlbmVk5pa55rOV55qE5Lyg5Y+CXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBvcGVuSW5zdGFuY2UocGFyYW0/OiBhbnkpIHtcclxuICAgICAgICBpZiAoR2FtZVNjZW5lLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIEdhbWVTY2VuZS5pbnN0YW5jZS5vbk9wZW5lZChwYXJhbSk7XHJcbiAgICAgICAgICAgIC8vIEdhbWVTY2VuZS5pbnN0YW5jZS5zaG93VHV0b3JpYWwoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBMYXlhLlNjZW5lLm9wZW4oQ29uc3QuVVJMX0dhbWVTY2VuZSwgZmFsc2UsIHBhcmFtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25PcGVuZWQocGFyYW0/OiBhbnkpIHtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIC8vIHRoaXMuc3RhdGUgPSBDb25zdC5HYW1lU3RhdGUuUkVBRFk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNjZW5lM0Q6IExheWEuU2NlbmUzRDtcclxuICAgIHByaXZhdGUgY2FtZXJhOiBMYXlhLkNhbWVyYTtcclxuICAgIHByaXZhdGUgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQ7XHJcblxyXG4gICAgLyoqIHBsYXRmb3JtICovXHJcbiAgICBwcml2YXRlIHBsYXRmb3JtOiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgcGxhdGZvcm1fc3RhbmQ6IExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgIC8qKiBjdWJlICovXHJcbiAgICBwcml2YXRlIF9jdWJlOiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgY3ViZUxpc3Q6IEN1YmVbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjdWJlTnVtWDogbnVtYmVyID0gNDtcclxuICAgIHByaXZhdGUgY3ViZU51bVk6IG51bWJlciA9IDQ7XHJcbiAgICBwcml2YXRlIGN1YmVOdW1aOiBudW1iZXIgPSAzO1xyXG4gICAgcHJpdmF0ZSBjdWJlV2lkdGg6IG51bWJlcjtcclxuXHJcbiAgICAvKiogYnVsbGV0ICovXHJcbiAgICBwcml2YXRlIF9idWxsZXQ6IExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBidWxsZXRSYWRpdXM6IG51bWJlciA9IDAuMDI7XHJcbiAgICBwcml2YXRlIGJ1bGxldFZlbG9jaXR5OiBudW1iZXIgPSAxO1xyXG4gICAgcHJpdmF0ZSBidWxsZXRJbml0UG9zOiBMYXlhLlZlY3RvcjM7XHJcbiAgICBwcml2YXRlIGJ1bGxldERpcmVjdGlvbjogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG5cclxuICAgIC8qKiBjYW5ub24gKi9cclxuICAgIHByaXZhdGUgcGxheWVyOiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgcGxheWVyQW5pOiBMYXlhLkFuaW1hdG9yO1xyXG4gICAgcHJpdmF0ZSBzaG9vdFRpbWU6IG51bWJlciA9IC0xOztcclxuXHJcbiAgICAvKiogcmF5Y2FzdCAqL1xyXG4gICAgcHJpdmF0ZSBtb3VzZVBvaW50OiBMYXlhLlZlY3RvcjIgPSBuZXcgTGF5YS5WZWN0b3IyKCk7XHJcbiAgICBwcml2YXRlIHJheTogTGF5YS5SYXkgPSBuZXcgTGF5YS5SYXkobmV3IExheWEuVmVjdG9yMygwLCAwLCAwKSwgbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKSk7XHJcbiAgICBwcml2YXRlIGhpdFJlc3VsdDogTGF5YS5IaXRSZXN1bHQgPSBuZXcgTGF5YS5IaXRSZXN1bHQoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICBHYW1lU2NlbmUuaW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRTY2VuZTNEKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEdhbWVTdGFnZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRQbGF5ZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0QnVsbGV0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXRpYWxpemUgc2NlbmUgKi9cclxuICAgIHByaXZhdGUgaW5pdFNjZW5lM0QoKSB7XHJcbiAgICAgICAgLy8gYWRkIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZTNEID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZTNEKCkpIGFzIExheWEuU2NlbmUzRDtcclxuXHJcbiAgICAgICAgLy8gY2FtZXJhXHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLnNjZW5lM0QuYWRkQ2hpbGQobmV3IExheWEuQ2FtZXJhKCkpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gQ29uc3QuQ2FtZXJhSW5pdFBvcy5jbG9uZSgpO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSBDb25zdC5DYW1lcmFJbml0Um90RXVsZXIuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgLy8gZGlyZWN0aW9uIGxpZ2h0XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25MaWdodCA9IHRoaXMuc2NlbmUzRC5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBDb25zdC5MaWdodEluaXRQb3MuY2xvbmUoKTtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSBDb25zdC5MaWdodEluaXRSb3RFdWxlci5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbml0aWFsaXplIGdhbWUgc3RhZ2UgKi9cclxuICAgIHByaXZhdGUgaW5pdEdhbWVTdGFnZSgpIHtcclxuICAgICAgICAvKiogaW5pdCBwbGF0Zm9ybSAqL1xyXG4gICAgICAgIHRoaXMuaW5pdFBsYXRmcm9tKCk7XHJcblxyXG4gICAgICAgIC8qKiBpbml0IGN1YmUgKi9cclxuICAgICAgICB0aGlzLl9jdWJlID0gbmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVCb3goMSwgMSwgMSkpO1xyXG4gICAgICAgIHRoaXMuX2N1YmUubmFtZSA9IFwiY3ViZVwiO1xyXG4gICAgICAgIGxldCBjdWJlUmlnaWQ6IExheWEuUmlnaWRib2R5M0QgPSB0aGlzLl9jdWJlLmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICBjdWJlUmlnaWQuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLkJveENvbGxpZGVyU2hhcGUoMSwgMSwgMSk7XHJcbiAgICAgICAgY3ViZVJpZ2lkLm1hc3MgPSAxO1xyXG4gICAgICAgIC8vIGN1YmVSaWdpZC5yZXN0aXR1dGlvbiA9IDAuMjtcclxuICAgICAgICAvLyBjdWJlUmlnaWQuZnJpY3Rpb24gPSAxMDtcclxuICAgICAgICAvLyBjdWJlUmlnaWQucm9sbGluZ0ZyaWN0aW9uID0gMDtcclxuICAgICAgICAvLyAvLyBibG9jayBwaHlzaWNzIHNpbVxyXG4gICAgICAgIC8vIGN1YmVSaWdpZC5hbmd1bGFyRmFjdG9yID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKTtcclxuICAgICAgICAvLyBjdWJlUmlnaWQubGluZWFyRmFjdG9yID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgLyoqIGdhbWUgc3RhZ2UgKi9cclxuICAgICAgICBsZXQgY3ViZU51bTogbnVtYmVyID0gdGhpcy5jdWJlTnVtWCAqIHRoaXMuY3ViZU51bVkgKiB0aGlzLmN1YmVOdW1aO1xyXG5cclxuICAgICAgICBsZXQgdG1wOiBudW1iZXIgPSB0aGlzLmN1YmVOdW1YID4gdGhpcy5jdWJlTnVtWSA/IHRoaXMuY3ViZU51bVggOiB0aGlzLmN1YmVOdW1ZO1xyXG4gICAgICAgIHRtcCA9IHRoaXMuY3ViZU51bVogPiB0aGlzLmN1YmVOdW1ZID8gdGhpcy5jdWJlTnVtWiA6IHRoaXMuY3ViZU51bVk7XHJcbiAgICAgICAgbGV0IHBhZGRpbmc6IG51bWJlciA9IDE7XHJcbiAgICAgICAgdGhpcy5jdWJlV2lkdGggPSAoQ29uc3QuUGxhdGZvcm1XaWR0aCAtIHBhZGRpbmcgKiAyKSAvIHRtcDtcclxuICAgICAgICBsZXQgaW5pdFg6IG51bWJlciA9ICh0aGlzLmN1YmVOdW1YICUgMiA9PSAxKSA/ICgtTWF0aC5mbG9vcih0aGlzLmN1YmVOdW1YIC8gMikgKiB0aGlzLmN1YmVXaWR0aCkgOiAodGhpcy5jdWJlV2lkdGggLyAyIC0gdGhpcy5jdWJlTnVtWCAvIDIgKiB0aGlzLmN1YmVXaWR0aCk7XHJcbiAgICAgICAgbGV0IGluaXRZOiBudW1iZXIgPSAoQ29uc3QuUGxhdGZvcm1IZWlnaHQgKyB0aGlzLmN1YmVXaWR0aCkgLyAyO1xyXG4gICAgICAgIGxldCBpbml0WjogbnVtYmVyID0gKHRoaXMuY3ViZU51bVogJSAyID09IDEpID8gKC1NYXRoLmZsb29yKHRoaXMuY3ViZU51bVogLyAyKSAqIHRoaXMuY3ViZVdpZHRoKSA6ICh0aGlzLmN1YmVXaWR0aCAvIDIgLSB0aGlzLmN1YmVOdW1aIC8gMiAqIHRoaXMuY3ViZVdpZHRoKTtcclxuICAgICAgICBmb3IgKGxldCB4OiBudW1iZXIgPSAwOyB4IDwgdGhpcy5jdWJlTnVtWDsgeCsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHk6IG51bWJlciA9IDA7IHkgPCB0aGlzLmN1YmVOdW1ZOyB5KyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHo6IG51bWJlciA9IDA7IHogPCB0aGlzLmN1YmVOdW1aOyB6KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3ViZTogTGF5YS5NZXNoU3ByaXRlM0QgPSB0aGlzLl9jdWJlLmNsb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3ViZS50cmFuc2Zvcm0ubG9jYWxTY2FsZSA9IG5ldyBMYXlhLlZlY3RvcjModGhpcy5jdWJlV2lkdGgsIHRoaXMuY3ViZVdpZHRoLCB0aGlzLmN1YmVXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3ViZS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IG5ldyBMYXlhLlZlY3RvcjMoaW5pdFggKyB0aGlzLmN1YmVXaWR0aCAqIHgsIGluaXRZICsgdGhpcy5jdWJlV2lkdGggKiB5LCBpbml0WiArIHRoaXMuY3ViZVdpZHRoICogeik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF0Zm9ybS5hZGRDaGlsZChjdWJlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1YmVTY3JpcHQ6IEN1YmUgPSBjdWJlLmFkZENvbXBvbmVudChDdWJlKTtcclxuICAgICAgICAgICAgICAgICAgICBjdWJlU2NyaXB0LnR5cGUgPSBDb25zdC5DdWJlVHlwZS5HTEFTUztcclxuICAgICAgICAgICAgICAgICAgICBjdWJlU2NyaXB0LndpZHRoID0gdGhpcy5jdWJlV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdWJlTGlzdC5wdXNoKGN1YmVTY3JpcHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbml0aWFsaXplIHBsYXRmcm9tICovXHJcbiAgICBwcml2YXRlIGluaXRQbGF0ZnJvbSgpIHtcclxuICAgICAgICAvKiogcGxhdGZvcm0gKi9cclxuICAgICAgICAvLyBjcmVhdGUgbWVzaFxyXG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSBuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZUJveChDb25zdC5QbGF0Zm9ybVdpZHRoLCBDb25zdC5QbGF0Zm9ybUhlaWdodCwgQ29uc3QuUGxhdGZvcm1XaWR0aCkpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUzRC5hZGRDaGlsZCh0aGlzLnBsYXRmb3JtKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtLmFkZENvbXBvbmVudChQbGF0Zm9ybSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IENvbnN0LlBsYXRmb3JtSW5pdFBvcy5jbG9uZSgpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm0udHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlciA9IENvbnN0LlBsYXRmb3JtSW5pdFJvdC5jbG9uZSgpO1xyXG5cclxuICAgICAgICAvLyBzZXQgcGh5c2ljc1xyXG4gICAgICAgIGxldCBjb2xsaWRlcjogTGF5YS5QaHlzaWNzQ29sbGlkZXIgPSB0aGlzLnBsYXRmb3JtLmFkZENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcik7XHJcbiAgICAgICAgY29sbGlkZXIuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLkJveENvbGxpZGVyU2hhcGUoQ29uc3QuUGxhdGZvcm1XaWR0aCwgQ29uc3QuUGxhdGZvcm1IZWlnaHQsIENvbnN0LlBsYXRmb3JtV2lkdGgpO1xyXG5cclxuICAgICAgICAvKiogc3RhbmQgKi9cclxuICAgICAgICAvLyBjcmVhdGUgbWVzaFxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1fc3RhbmQgPSBuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZUN5bGluZGVyKENvbnN0LlBsYXRmb3JtU3RhbmRSYWRpdXMsIENvbnN0LlBsYXRmb3JtU3RhbmRIZWlnaHQpKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtLmFkZENoaWxkKHRoaXMucGxhdGZvcm1fc3RhbmQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1fc3RhbmQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBuZXcgTGF5YS5WZWN0b3IzKDAsIC1Db25zdC5QbGF0Zm9ybVN0YW5kSGVpZ2h0IC8gMiwgMCk7XHJcblxyXG4gICAgICAgIC8vIHNldCBwaHlzaWNzXHJcbiAgICAgICAgbGV0IGNvbGxpZGVyX3N0YW5kOiBMYXlhLlBoeXNpY3NDb2xsaWRlciA9IHRoaXMucGxhdGZvcm1fc3RhbmQuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICBjb2xsaWRlcl9zdGFuZC5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuQ3lsaW5kZXJDb2xsaWRlclNoYXBlKENvbnN0LlBsYXRmb3JtU3RhbmRSYWRpdXMsIENvbnN0LlBsYXRmb3JtU3RhbmRIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbml0aWFsaXplIHBsYXllciAqL1xyXG4gICAgcHJpdmF0ZSBpbml0UGxheWVyKCkge1xyXG4gICAgICAgIExheWEuU3ByaXRlM0QubG9hZChDb25zdC5QbGF5ZXJSZXNVcmwsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IHJlcztcclxuICAgICAgICAgICAgdGhpcy5zY2VuZTNELmFkZENoaWxkKHRoaXMucGxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJBbmkgPSB0aGlzLnBsYXllci5nZXRDb21wb25lbnQoTGF5YS5BbmltYXRvcik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gQ29uc3QuUGxheWVySW5pdFBvcy5jbG9uZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gQ29uc3QuUGxheWVySW5pdFJvdC5jbG9uZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci50cmFuc2Zvcm0ubG9jYWxTY2FsZSA9IENvbnN0LlBsYXllckluaXRTY2FsZS5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIubmFtZSA9IFwicGxheWVyXCI7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2hhZG93TWF0OiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9ICh0aGlzLnBsYXllci5nZXRDaGlsZEJ5TmFtZShcInNoYWRvd18wXCIpIGFzIExheWEuTWVzaFNwcml0ZTNEKS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgYXMgTGF5YS5CbGlublBob25nTWF0ZXJpYWw7XHJcbiAgICAgICAgICAgIHNoYWRvd01hdC5yZW5kZXJNb2RlID0gTGF5YS5CbGlublBob25nTWF0ZXJpYWwuUkVOREVSTU9ERV9UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgc2hhZG93TWF0LmFsYmVkb0NvbG9yQSA9IDAuMjtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vdXNlIGNsaWNrIGV2ZW50IGxpc3Rlbjogc2hvb3QgYSBidWxsZXRcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LkNMSUNLLCB0aGlzLCB0aGlzLm9uQ2xpY2spO1xyXG5cclxuICAgICAgICAgICAgLy8gb25VcGRhdGVcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhcnQoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXRpYWxpemUgYnVsbGV0ICovXHJcbiAgICBwcml2YXRlIGluaXRCdWxsZXQoKSB7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0ID0gbmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVTcGhlcmUoQ29uc3QuQnVsbGV0UmFkaXVzKSk7XHJcblxyXG4gICAgICAgIC8qKiBzZXQgcGh5c2ljICovXHJcbiAgICAgICAgbGV0IGJ1bGxldFJpZ2lkOiBMYXlhLlJpZ2lkYm9keTNEID0gdGhpcy5fYnVsbGV0LmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICAvLyBzZXQgY29sbGllZGVyIHNoYXBlXHJcbiAgICAgICAgYnVsbGV0UmlnaWQuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLlNwaGVyZUNvbGxpZGVyU2hhcGUoQ29uc3QuQnVsbGV0UmFkaXVzKTtcclxuICAgICAgICAvLyBxdWljayBtb3ZpbmcgZGV0ZWNpb25cclxuICAgICAgICBidWxsZXRSaWdpZC5jY2RNb3Rpb25UaHJlc2hvbGQgPSAwLjAwMDE7XHJcbiAgICAgICAgYnVsbGV0UmlnaWQuY2NkU3dlcHRTcGhlcmVSYWRpdXMgPSBDb25zdC5CdWxsZXRSYWRpdXM7XHJcbiAgICAgICAgLy8gbWFzc1xyXG4gICAgICAgIGJ1bGxldFJpZ2lkLm1hc3MgPSAxO1xyXG5cclxuICAgICAgICAvKiogdHJhc2Zvcm0gKi9cclxuICAgICAgICB0aGlzLl9idWxsZXQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBDb25zdC5CdWxsZXRJbml0UG9zLmNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0LnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSBDb25zdC5CdWxsZXRJbml0Um90LmNsb25lKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2J1bGxldC5uYW1lID0gXCJfYnVsbGV0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGdhbWUgc3RhcnQgKi9cclxuICAgIHByaXZhdGUgZ2FtZVN0YXJ0KCkge1xyXG4gICAgICAgIC8vIHNob290aW5nIGFuaW1hdGlvblxyXG4gICAgICAgIHRoaXMucGxheWVyQW5pLmdldERlZmF1bHRTdGF0ZSgpLmNsaXAuaXNsb29waW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBsYXllckFuaS5wbGF5KCk7XHJcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBnYW1lIHN0YXRlIGNoZWNrXHJcblxyXG4gICAgICAgICAgICAvLyBwbGF5IHNob290aW5nIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB0aGlzLnNob290VGltZS0tO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG9vdFRpbWUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHBsYXlpbmdcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyQW5pLnNwZWVkID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBtb3VzZSBjbGljayBldmVudDogc2hvb3QgYSBidWxsZXQgKi9cclxuICAgIHByaXZhdGUgb25DbGljaygpIHtcclxuICAgICAgICAvLyBwbGF5IHNob290IGFuaW1hdGlvblxyXG4gICAgICAgIHRoaXMuc2hvb3RUaW1lID0gQ29uc3QuUGxheWVyU2hvb3RMaWZlVGltZTtcclxuICAgICAgICB0aGlzLnBsYXllckFuaS5zcGVlZCA9IDE7XHJcblxyXG4gICAgICAgIC8vIGdldCByYXlcclxuICAgICAgICB0aGlzLm1vdXNlUG9pbnQueCA9IExheWEuTW91c2VNYW5hZ2VyLmluc3RhbmNlLm1vdXNlWDtcclxuICAgICAgICB0aGlzLm1vdXNlUG9pbnQueSA9IExheWEuTW91c2VNYW5hZ2VyLmluc3RhbmNlLm1vdXNlWTtcclxuICAgICAgICB0aGlzLmNhbWVyYS52aWV3cG9ydFBvaW50VG9SYXkodGhpcy5tb3VzZVBvaW50LCB0aGlzLnJheSk7XHJcblxyXG4gICAgICAgIC8vIGdldCBidWxsZXQgc2hvb3RpbmcgZGlyZWN0aW9uXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUzRC5waHlzaWNzU2ltdWxhdGlvbi5yYXlDYXN0KHRoaXMucmF5LCB0aGlzLmhpdFJlc3VsdCwgMzApKSB7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiB2ZWN0b3I6IFtidWxsZXQgaW5pdCBwb2ludF0gdG8gW21vdXNlIGhpdCBwb2ludF1cclxuICAgICAgICAgICAgTGF5YS5WZWN0b3IzLnN1YnRyYWN0KHRoaXMuaGl0UmVzdWx0LnBvaW50LCBDb25zdC5CdWxsZXRJbml0UG9zLCB0aGlzLmJ1bGxldERpcmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBkaXJlY3Rpb24gdmVjdG9yOiBbY2FtZXJhIHBvaW50XSB0byBbbW91c2UgaGl0IHBvaW50XVxyXG4gICAgICAgICAgICB2YXIgYVYzOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgICAgIC8vIHJheSBkaXJlY3Rpb24gc2NhbGU6IHRvIGRlcHRoIHNjYWxlWlxyXG4gICAgICAgICAgICBsZXQgc2NhbGVWOiBudW1iZXIgPSB0aGlzLmNhbWVyYS5mYXJQbGFuZTtcclxuICAgICAgICAgICAgc2NhbGVWID0gMTI7XHJcbiAgICAgICAgICAgIExheWEuVmVjdG9yMy5zY2FsZSh0aGlzLnJheS5kaXJlY3Rpb24sIHNjYWxlViwgYVYzKTtcclxuICAgICAgICAgICAgLy8gZGlyZWN0aW9uIHZlY3RvcjogW2J1bGxldCBpbml0IHBvaW50XSB0byBbY2FtZXJhIHBvaW50XVxyXG4gICAgICAgICAgICB2YXIgYlYzOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgICAgIExheWEuVmVjdG9yMy5zdWJ0cmFjdCh0aGlzLmNhbWVyYS50cmFuc2Zvcm0ucG9zaXRpb24sIENvbnN0LkJ1bGxldEluaXRQb3MsIGJWMyk7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiB2ZWN0b3I6IFtidWxsZXQgaW5pdCBwb2ludF0gdG8gW21vdXNlIGhpdCBwb2ludF1cclxuICAgICAgICAgICAgTGF5YS5WZWN0b3IzLmFkZChhVjMsIGJWMywgdGhpcy5idWxsZXREaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBMYXlhLlZlY3RvcjMubm9ybWFsaXplKHRoaXMuYnVsbGV0RGlyZWN0aW9uLCB0aGlzLmJ1bGxldERpcmVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5idWxsZXRWZWxvY2l0eSA9IDUwO1xyXG4gICAgICAgIExheWEuVmVjdG9yMy5zY2FsZSh0aGlzLmJ1bGxldERpcmVjdGlvbiwgdGhpcy5idWxsZXRWZWxvY2l0eSwgdGhpcy5idWxsZXREaXJlY3Rpb24pO1xyXG5cclxuICAgICAgICAvLyBnZW5lcmF0ZSBidWxsZXRcclxuICAgICAgICBsZXQgYnVsbGV0OiBMYXlhLk1lc2hTcHJpdGUzRCA9IHRoaXMuX2J1bGxldC5jbG9uZSgpO1xyXG4gICAgICAgIGJ1bGxldC5uYW1lID0gXCJidWxsZXRcIjtcclxuICAgICAgICB0aGlzLnNjZW5lM0QuYWRkQ2hpbGQoYnVsbGV0KTtcclxuICAgICAgICBsZXQgYnVsbGV0UmlnaWQ6IExheWEuUmlnaWRib2R5M0QgPSBidWxsZXQuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRib2R5M0QpO1xyXG4gICAgICAgIGJ1bGxldFJpZ2lkLmxpbmVhclZlbG9jaXR5ID0gdGhpcy5idWxsZXREaXJlY3Rpb24uY2xvbmUoKTtcclxuICAgIH1cclxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aS5nYW1lIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHYW1lU2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiZ2FtZS9HYW1lU2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkuZ2FtZS5HYW1lU2NlbmVVSVwiLEdhbWVTY2VuZVVJKTtcclxufVxyIl19
