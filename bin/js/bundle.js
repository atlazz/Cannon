var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameScene_1 = require("./script/runtime/GameScene");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/runtime/GameScene.ts", GameScene_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "game/GameScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/runtime/GameScene":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** version */
exports.VERSION = "1.0.0";
/** pages */
exports.URL_HomeView = "home/HomeView.scene";
exports.URL_GameScene = "game/GameScene.scene";
exports.URL_OverView = "over/OverView.scene";
exports.URL_ReviveView = "dialog/ReviveView.scene";
/** camera */
exports.CameraInitPos = new Laya.Vector3(0, 0.5, 0);
exports.CameraInitRotEuler = new Laya.Vector3(0, 0, 0);
/** directional light */
exports.LightInitPos = new Laya.Vector3(-3, 5, 0);
exports.LightInitRotEuler = new Laya.Vector3(-45, -30, 0);
/** game stage */
exports.StageResUrl = "res/stage/out/";
exports.StageInitPos = new Laya.Vector3(0, 0, 0);
exports.StageInitRot = new Laya.Vector3(0, 180, 0);
exports.StageInitScale = new Laya.Vector3(40, 40, 40);
exports.StageNum = 30;
// winning check frame
exports.MaxWinCheckTime = 90;
// 屏蔽物体物理受力前等待时间
exports.SetKinematicWaitTime = 20;
/** glass */
exports.GlassBrokenVelocity = 3;
/** obstacle piece */
exports.PieceResUrl = "res/cube_piece.lm";
exports.PiecesNum = 3;
exports.PiecesBrokenTime = 120;
/** bullet */
exports.BulletResUrl = "res/bullet.lh";
exports.BulletInitPos = new Laya.Vector3(0, 0, -1);
exports.BulletInitRot = new Laya.Vector3(180, 0, 0);
// init radius
exports.BulletRadius = 0.15;
// scale
exports.BulletScale = [
    1,
    1.5,
];
// mass
exports.BulletMass = [
    10,
    10,
];
// velocity
exports.BulletVelocity = [
    50,
    50,
];
/** player */
exports.PlayerResUrl = "res/human.lh";
exports.PlayerInitPos = new Laya.Vector3(0, -0.1, -1);
exports.PlayerInitRot = new Laya.Vector3(90, 168, 0);
exports.PlayerInitScale = new Laya.Vector3(20, 20, 20);
exports.PlayerShootLifeTime = 10;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameScene_1 = require("../runtime/GameScene");
var BulletScript = /** @class */ (function (_super) {
    __extends(BulletScript, _super);
    function BulletScript() {
        var _this = _super.call(this) || this;
        _this.type = 0 /* DEFAULT */;
        _this.lifetime = 120;
        _this.collisionBlackList = ["bullet", "player"];
        return _this;
    }
    BulletScript.prototype.onAwake = function () {
        this.bullet = this.owner;
        this.rigidbody = this.bullet.getComponent(Laya.Rigidbody3D);
    };
    BulletScript.prototype.onUpdate = function () {
        var _this = this;
        // check spirte alive
        if (this.bullet.destroyed) {
            this.destroy();
            return;
        }
        // update lifetime
        this.lifetime--;
        if (this.lifetime < 0) {
            Laya.timer.frameOnce(1, this, function () {
                // update counter
                GameScene_1.default.instance.currBulletNum++;
                // destroy
                _this.bullet.removeSelf();
                _this.destroy();
            });
        }
    };
    /** set material by type */
    BulletScript.prototype.setType = function (type) {
        this.type = type;
        if (this.type === 0 /* DEFAULT */) {
            var mat = new Laya.BlinnPhongMaterial();
            mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            mat.albedoColor = new Laya.Vector4(1, 0.7, 1, 0.7);
            this.bullet.meshRenderer.material = mat;
        }
        else if (this.type === 1 /* FROZEN */) {
            var mat = new Laya.BlinnPhongMaterial();
            mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            mat.albedoColor = new Laya.Vector4(0.2, 0.2, 1, 0.7);
            this.bullet.meshRenderer.material = mat;
        }
    };
    return BulletScript;
}(Laya.Script3D));
exports.default = BulletScript;
},{"../runtime/GameScene":7}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Guard = /** @class */ (function (_super) {
    __extends(Guard, _super);
    function Guard() {
        var _this = _super.call(this) || this;
        _this.MaxMoveTimes = 60;
        _this.moveTimes = 0;
        return _this;
    }
    Guard.prototype.onAwake = function () {
        // get sprite
        this.guard = this.owner;
        // get size
        var boundingBox = this.guard.meshFilter.sharedMesh.boundingBox.clone();
        this.sizeX = boundingBox.max.x - boundingBox.min.x;
        this.sizeY = boundingBox.max.y - boundingBox.min.y;
        this.sizeZ = boundingBox.max.z - boundingBox.min.z;
        // add collider
        var collider = this.guard.addComponent(Laya.PhysicsCollider);
        collider.colliderShape = new Laya.BoxColliderShape(this.sizeX, this.sizeY, this.sizeZ);
        // record init pos
        this.initPos = this.guard.transform.localPosition.clone();
    };
    Guard.prototype.onUpdate = function () {
        // check spirte alive
        if (this.guard.destroyed) {
            this.destroy();
            return;
        }
        /** 平移 */
        this.moveTimes = (this.moveTimes + 1) % (this.MaxMoveTimes * 2);
        // 位移方向标志
        var flag = Math.floor((this.moveTimes / this.MaxMoveTimes) % 2);
        // X和Y方向平移步进
        var moveStepX = this.sizeX * this.guard.transform.localScaleX / 2 / this.MaxMoveTimes;
        var moveStepY = this.sizeY * this.guard.transform.localScaleY / 2 / this.MaxMoveTimes;
        // Z轴旋转90，X和Y互换
        if (Math.floor((Math.abs(this.guard.transform.localRotationEulerZ) + 90.5) % 180) === 0) {
            var tmp = moveStepX;
            moveStepX = moveStepY;
            moveStepY = tmp;
        }
        // 全屏水平移动
        if (this.guard.name.search("move_x") >= 0) {
            this.MaxMoveTimes = 120;
            moveStepX = this.initPos.x * 2 / this.MaxMoveTimes;
            flag = Math.floor((this.moveTimes / this.MaxMoveTimes) % 2);
            if (flag) {
                this.guard.transform.localPositionX += moveStepX;
            }
            else {
                this.guard.transform.localPositionX -= moveStepX;
            }
        }
        // 全屏纵向移动
        else if (this.guard.name.search("move_y") >= 0) {
            this.MaxMoveTimes = 120;
            moveStepY = this.initPos.y * 2 / this.MaxMoveTimes;
            flag = Math.floor((this.moveTimes / this.MaxMoveTimes) % 2);
            if (flag) {
                this.guard.transform.localPositionY += moveStepY;
            }
            else {
                this.guard.transform.localPositionY -= moveStepY;
            }
        }
        // 半屏移动
        else if (this.guard.name.search("move_left") >= 0) {
            if (flag) {
                this.guard.transform.localPositionX -= moveStepX;
            }
            else {
                this.guard.transform.localPositionX += moveStepX;
            }
        }
        else if (this.guard.name.search("move_right") >= 0) {
            if (flag) {
                this.guard.transform.localPositionX += moveStepX;
            }
            else {
                this.guard.transform.localPositionX -= moveStepX;
            }
        }
        else if (this.guard.name.search("move_up") >= 0) {
            if (flag) {
                this.guard.transform.localPositionY -= moveStepY;
            }
            else {
                this.guard.transform.localPositionY += moveStepY;
            }
        }
        else if (this.guard.name.search("move_down") >= 0) {
            if (flag) {
                this.guard.transform.localPositionY += moveStepY;
            }
            else {
                this.guard.transform.localPositionY -= moveStepY;
            }
        }
        /** 旋转 */
        else if (this.guard.name.search("rotate_left") >= 0) {
            this.guard.transform.localRotationEulerY = (this.guard.transform.localRotationEulerY + 1) % 360;
        }
        else if (this.guard.name.search("rotate_right") >= 0) {
            this.guard.transform.localRotationEulerY = (this.guard.transform.localRotationEulerY - 1) % 360;
        }
        else if (this.guard.name.search("rotate_up") >= 0) {
            this.guard.transform.localRotationEulerX = (this.guard.transform.localRotationEulerX + 1) % 360;
        }
        else if (this.guard.name.search("rotate_down") >= 0) {
            this.guard.transform.localRotationEulerX = (this.guard.transform.localRotationEulerX - 1) % 360;
        }
    };
    return Guard;
}(Laya.Script3D));
exports.default = Guard;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Const = require("../Const");
var GameScene_1 = require("../runtime/GameScene");
var Bullet_1 = require("../component/Bullet");
var Target = /** @class */ (function (_super) {
    __extends(Target, _super);
    function Target() {
        var _this = _super.call(this) || this;
        _this.type = 0 /* DEFAULT */;
        _this.collisionBlackList = ["stand", "Guard"];
        /** target object pieces */
        _this.piecesList = [];
        return _this;
    }
    Target.prototype.onAwake = function () {
        var _this = this;
        this.target = this.owner;
        this.setRigidbody();
        // 延后几帧屏蔽物理受力，以等待物体掉落放置
        Laya.timer.frameOnce(Const.SetKinematicWaitTime, this, function () {
            if (!GameScene_1.default.instance.isStageStart) {
                _this.rigidbody.isKinematic = true;
            }
        });
        this.initPieces();
    };
    Target.prototype.onCollisionEnter = function (collision) {
        // // reset win check counter
        // if (collision.other.owner.name === "stand") {
        //     GameScene.instance.winCheckCnt = 0;
        // }
        var other = collision.other.owner;
        // 子弹效果处理
        if (other.name === "bullet") {
            var bullet = other.getComponent(Bullet_1.default);
            if (bullet.type === 0 /* DEFAULT */) {
            }
            else if (bullet.type === 1 /* FROZEN */) {
                this.setType(1 /* GLASS */);
            }
        }
        // 本体受击打处理
        if (this.type === 1 /* GLASS */) {
            // 相对速度高可击碎
            var velocity = this.rigidbody.linearVelocity.clone();
            var velocityOther = new Laya.Vector3(0, 0, 0);
            // not playform
            if (this.collisionBlackList.indexOf(other.name) < 0 && other.name.indexOf("Guard") < 0) {
                velocityOther = other.getComponent(Laya.Rigidbody3D).linearVelocity.clone();
            }
            var velocityValue = Laya.Vector3.distance(velocity, velocityOther);
            if (velocityValue >= Const.GlassBrokenVelocity) {
                // this.isHit = true;
                this.broken();
            }
        }
    };
    Target.prototype.onCollisionStay = function (collision) {
        // // reset win check counter
        // if (collision.other.owner.name === "stand") {
        //     GameScene.instance.winCheckCnt = 0;
        // }
        var other = collision.other.owner;
        // 子弹效果处理
        if (other.name === "bullet") {
            var bullet = other.getComponent(Bullet_1.default);
            if (bullet.type === 0 /* DEFAULT */) {
            }
            else if (bullet.type === 1 /* FROZEN */) {
                this.setType(1 /* GLASS */);
            }
        }
    };
    // onCollisionExit(collision: Laya.Collision): void {
    //     // reset win check counter
    //     if (collision.other.owner.name === "stand") {
    //         GameScene.instance.winCheckCnt = 0;
    //     }
    // }
    Target.prototype.onUpdate = function () {
        // check spirte alive
        if (this.target.destroyed) {
            this.destroy();
            return;
        }
        // stage start
        if (this.rigidbody.isKinematic && GameScene_1.default.instance.isStageStart) {
            this.rigidbody.isKinematic = false;
        }
        /** win check
         *  引擎bug：物体架在两个平台夹缝上时，不触发onCollisionStay,
         *  故完善关卡胜利判断，根据物体与关卡模型中心距离判定是否掉出平台
         *  ps：物理引擎bug较多，可以来引擎呈现物理宏观效果，但尽量少依赖碰撞做需要稳定的底层处理
         */
        var dist = Laya.Vector3.distance(this.target.transform.position, GameScene_1.default.instance.gameStage.transform.position);
        if (dist < 20) {
            // reset win check counter
            GameScene_1.default.instance.winCheckCnt = 0;
        }
        /** physics engine bug detecting and fixing
         *  引擎bug：姿态稳定情况下，某个物体作用力方向（如重力时的底下）的碰撞物体快速消失，
         *  而此过程中相互作用影响过小导致自身姿态没有变化时，引擎会自动将该物体的刚体非激活，从而导致腾空现象，
         *  增大物体间相互作用力（如摩擦系数）可减少该情况发生，但不能杜绝，
         *  故在此检测该情况并对刚体销毁重建
         * */
        if (this.rigidbody && this.rigidbody.isActive == false) {
            this.refreshRigidbody();
            console.log("Physics_engine_bug_fixing: Reset rigidbody.");
        }
    };
    /** destroy and recreate rigidbody */
    Target.prototype.refreshRigidbody = function () {
        if (this.rigidbody) {
            this.rigidbody.destroy();
            this.setRigidbody();
            console.log("refresh rigidbody");
        }
    };
    /** set material by type */
    Target.prototype.setType = function (type) {
        this.type = type;
        if (this.type === 1 /* GLASS */) {
            var mat = new Laya.BlinnPhongMaterial();
            mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            mat.albedoColor = new Laya.Vector4(0.7, 0.7, 1, 0.7);
            this.target.meshRenderer.material = mat;
        }
    };
    /** set rigidbody */
    Target.prototype.setRigidbody = function () {
        // get size of bounding box
        var boundingBox = this.target.meshFilter.sharedMesh.boundingBox.clone();
        this.sizeX = boundingBox.max.x - boundingBox.min.x;
        this.sizeY = boundingBox.max.y - boundingBox.min.y;
        this.sizeZ = boundingBox.max.z - boundingBox.min.z;
        // add rigidbody
        this.rigidbody = this.target.addComponent(Laya.Rigidbody3D);
        if (this.target.name.search("Cube") >= 0) {
            this.rigidbody.colliderShape = new Laya.BoxColliderShape(this.sizeX, this.sizeY, this.sizeZ);
        }
        else if (this.target.name.search("Triangle") >= 0) {
            this.rigidbody.colliderShape = new Laya.ConeColliderShape(this.sizeX / 2, this.sizeY);
        }
        else {
            var colliderShape = new Laya.MeshColliderShape();
            colliderShape.mesh = this.target.meshFilter.sharedMesh;
            this.rigidbody.colliderShape = colliderShape;
        }
        this.setPhysicsParam();
    };
    /** set physics param */
    Target.prototype.setPhysicsParam = function () {
        this.rigidbody.isKinematic = false;
        if (this.type === 0 /* DEFAULT */) {
            this.rigidbody.mass = 10;
            this.rigidbody.friction = 10;
        }
        else if (this.type === 1 /* GLASS */) {
            this.rigidbody.mass = 0.1;
            this.rigidbody.friction = 2;
        }
    };
    /** set target broken */
    Target.prototype.broken = function () {
        // play broken sound
        var _this = this;
        // show pieces
        this.effectPiecesBroken();
        // hide target
        Laya.timer.frameOnce(1, this, function () {
            _this.target.active = false;
        });
    };
    /** init target pieces */
    Target.prototype.initPieces = function () {
        var _this = this;
        Laya.Mesh.load(Const.PieceResUrl, Laya.Handler.create(this, function (mesh) {
            var piece = new Laya.MeshSprite3D(mesh);
            piece.active = false;
            piece.name = "piece";
            // set material
            var mat = new Laya.BlinnPhongMaterial();
            mat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            mat.albedoColor = new Laya.Vector4(0.7, 0.7, 1, 0.7);
            piece.meshRenderer.material = mat;
            // set rigidbody
            var pieceRigid = piece.addComponent(Laya.Rigidbody3D);
            var pieceColliderShape = new Laya.MeshColliderShape();
            pieceColliderShape.mesh = piece.meshFilter.sharedMesh;
            pieceRigid.colliderShape = pieceColliderShape;
            // add pieces to scene
            for (var i = 0; i < Const.PiecesNum; i++) {
                _this.piecesList.push(piece.clone());
                GameScene_1.default.instance.scene3D.addChild(_this.piecesList[i]);
            }
        }));
    };
    /** platy effect: target broken to pieces */
    Target.prototype.effectPiecesBroken = function () {
        var _this = this;
        var _loop_1 = function (idx) {
            // active pieces
            this_1.piecesList[idx].active = true;
            // set size scale
            var scaleX = (Math.random() * 0.5 + 0.5) * 1.5 * this_1.sizeX * this_1.target.transform.localScaleX * Const.StageInitScale.x;
            var scaleY = (Math.random() * 0.5 + 0.5) * 1.5 * this_1.sizeY * this_1.target.transform.localScaleY * Const.StageInitScale.y;
            var scaleZ = (Math.random() * 0.5 + 0.5) * 1.5 * this_1.sizeZ * this_1.target.transform.localScaleZ * Const.StageInitScale.z;
            this_1.piecesList[idx].transform.localScale = new Laya.Vector3(scaleX, scaleY, scaleZ);
            // set rot
            this_1.piecesList[idx].transform.localRotationEulerX = (Math.random() - 0.5) * 2 * 90;
            this_1.piecesList[idx].transform.localRotationEulerY = (Math.random() - 0.5) * 2 * 90;
            this_1.piecesList[idx].transform.localRotationEulerZ = (Math.random() - 0.5) * 2 * 90;
            // set pos
            var velocity = new Laya.Vector3();
            velocity.x = (Math.random() - 0.5);
            velocity.y = (Math.random() - 0.5);
            velocity.z = (Math.random() - 0.5);
            this_1.piecesList[idx].transform.position = this_1.target.transform.position.clone();
            Laya.Vector3.add(this_1.piecesList[idx].transform.localPosition, velocity, this_1.piecesList[idx].transform.localPosition);
            // set velocity of pieces
            Laya.Vector3.scale(velocity, 50, velocity);
            this_1.piecesList[idx].getComponent(Laya.Rigidbody3D).linearVelocity = velocity.clone();
            // set hiding effect
            Laya.Tween.to(this_1.piecesList[idx].transform.localScale, { x: scaleX / 2, y: scaleY / 2, z: scaleZ / 2 }, Const.PiecesBrokenTime / 60 * 1000, Laya.Ease.linearNone);
            Laya.Tween.to(this_1.piecesList[idx].meshRenderer.material, { albedoColorA: 0 }, Const.PiecesBrokenTime / 60 * 1000, Laya.Ease.linearNone, Laya.Handler.create(this_1, function () {
                _this.piecesList[+idx].destroy();
            }));
        };
        var this_1 = this;
        for (var idx in this.piecesList) {
            _loop_1(idx);
        }
    };
    return Target;
}(Laya.Script3D));
exports.default = Target;
},{"../Const":3,"../component/Bullet":4,"../runtime/GameScene":7}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../../ui/layaMaxUI");
var Const = require("../Const");
var Bullet_1 = require("../component/Bullet");
var Target_1 = require("../component/Target");
var Guard_1 = require("../component/Guard");
var GameScene = /** @class */ (function (_super) {
    __extends(GameScene, _super);
    function GameScene() {
        var _this = _super.call(this) || this;
        _this.MaxBulletNum = 100;
        _this.currBulletNum = 0;
        _this.winCheckCnt = 0;
        _this.isStageStart = false;
        _this.bulletType = 0 /* DEFAULT */;
        _this.shootTime = -1;
        /** raycast */
        _this.mousePoint = new Laya.Vector2();
        _this.ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));
        _this.hitResult = new Laya.HitResult();
        /** game state */
        _this.state = 0;
        GameScene.instance = _this;
        _this.initScene3D();
        _this.initPlayer();
        _this.initBullet();
        _this.stageIdx = 1;
        _this.loadGameStage();
        return _this;
    }
    /**
     * 打开该单例页面，触发onOpened
     * @param param  onOpened方法的传参
     */
    GameScene.openInstance = function (param) {
        if (GameScene.instance) {
            GameScene.instance.onOpened(param);
            // GameScene.instance.showTutorial();
        }
        else {
            Laya.Scene.open(Const.URL_GameScene, false, param);
        }
    };
    GameScene.prototype.onOpened = function (param) {
        this.visible = true;
        // this.state = Const.GameState.READY;
    };
    ;
    /** initialize scene */
    GameScene.prototype.initScene3D = function () {
        // add scene
        this.scene3D = Laya.stage.addChild(new Laya.Scene3D());
        // camera
        this.camera = this.scene3D.addChild(new Laya.Camera());
        this.camera.transform.localPosition = Const.CameraInitPos.clone();
        this.camera.transform.localRotationEuler = Const.CameraInitRotEuler.clone();
        // direction light
        this.directionLight = this.scene3D.addChild(new Laya.DirectionLight());
        this.directionLight.transform.localPosition = Const.LightInitPos.clone();
        this.directionLight.transform.localRotationEuler = Const.LightInitRotEuler.clone();
    };
    /** initialize player */
    GameScene.prototype.initPlayer = function () {
        var _this = this;
        Laya.Sprite3D.load(Const.PlayerResUrl, Laya.Handler.create(this, function (res) {
            _this.player = res;
            _this.scene3D.addChild(_this.player);
            _this.playerAni = _this.player.getComponent(Laya.Animator);
            _this.player.transform.localPosition = Const.PlayerInitPos.clone();
            _this.player.transform.localRotationEuler = Const.PlayerInitRot.clone();
            _this.player.transform.localScale = Const.PlayerInitScale.clone();
            _this.player.name = "player";
            var shadowMat = _this.player.getChildByName("shadow_0").meshRenderer.material;
            shadowMat.renderMode = Laya.BlinnPhongMaterial.RENDERMODE_TRANSPARENT;
            shadowMat.albedoColorA = 0.2;
            // set shooting animation
            _this.playerAni.getDefaultState().clip.islooping = true;
            _this.playerAni.play();
            Laya.timer.frameLoop(1, _this, function () {
                // play shooting animation
                _this.shootTime--;
                if (_this.shootTime < 0) {
                    // stop playing
                    _this.playerAni.speed = 0;
                }
            });
        }));
    };
    /** init bullet */
    GameScene.prototype.initBullet = function () {
        var radius = Const.BulletRadius;
        this._bullet = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius));
        this._bullet.name = "_bullet";
        // trasform
        this._bullet.transform.localPosition = Const.BulletInitPos.clone();
        this._bullet.transform.localRotationEuler = Const.BulletInitRot.clone();
        // add rigidbody
        var bulletRigid = this._bullet.addComponent(Laya.Rigidbody3D);
        bulletRigid.colliderShape = new Laya.SphereColliderShape(radius);
    };
    /** load game stage by index */
    GameScene.prototype.loadGameStage = function () {
        var _this = this;
        // destroy old stage
        if (this.gameStage) {
            this.gameStage.destroyChildren();
            this.gameStage.destroy();
            Laya.stage.off(Laya.Event.CLICK, this, this.onClick);
        }
        // reset
        this.currBulletNum = 0;
        this.winCheckCnt = 0;
        this.isStageStart = false;
        // load stage
        var satgeResUrl = Const.StageResUrl + this.stageIdx + ".lh";
        Laya.Sprite3D.load(satgeResUrl, Laya.Handler.create(this, function (res) {
            _this.gameStage = _this.scene3D.addChild(res);
            // set pos
            _this.gameStage.transform.localPosition = Const.StageInitPos.clone();
            _this.gameStage.transform.localRotationEuler = Const.StageInitRot.clone();
            _this.gameStage.transform.localScale = Const.StageInitScale.clone();
            // destroy animator component: 不然会约束物理碰撞效果
            _this.gameStage.getComponent(Laya.Animator).destroy();
            var child;
            for (var i = 0; i < _this.gameStage.numChildren; i++) {
                child = _this.gameStage.getChildAt(i);
                /** target object */
                if (child.name.search("Obstacle") >= 0) {
                    console.log(child.name + " to target");
                    // add scipt
                    var targetScript = child.addComponent(Target_1.default);
                    // set type
                    if (child.name.search("Glass") >= 0) {
                        targetScript.setType(1 /* GLASS */);
                    }
                    else {
                        targetScript.setType(0 /* DEFAULT */);
                    }
                }
                /** stand_box */
                else if (child.name.search("Cube") >= 0) {
                    console.log(child.name + " to stand");
                    child.name = "stand";
                    // add collider
                    var collider = child.addComponent(Laya.PhysicsCollider);
                    var boundingBox = child.meshFilter.sharedMesh.boundingBox.clone();
                    var sizeX = boundingBox.max.x - boundingBox.min.x;
                    var sizeY = boundingBox.max.y - boundingBox.min.y;
                    var sizeZ = boundingBox.max.z - boundingBox.min.z;
                    collider.colliderShape = new Laya.BoxColliderShape(sizeX, sizeY, sizeZ);
                }
                /** stand_cylinder */
                else if (child.name.search("Cylinder") >= 0) {
                    console.log(child.name + " to stand");
                    child.name = "stand";
                    // add collider
                    var collider = child.addComponent(Laya.PhysicsCollider);
                    var colliderShape = new Laya.MeshColliderShape();
                    colliderShape.mesh = child.meshFilter.sharedMesh;
                    collider.colliderShape = colliderShape;
                }
                /** Guard */
                else if (child.name.search("Guard") >= 0) {
                    console.log(child.name + " to guard");
                    // add script
                    var guard = child.addComponent(Guard_1.default);
                }
                else {
                    child.destroy();
                }
            }
            // set stage listener
            Laya.timer.frameLoop(1, _this, _this.stageListener);
            // mouse click event listen: shoot a bullet
            Laya.stage.on(Laya.Event.CLICK, _this, _this.onClick);
        }));
    };
    /** game stage listener */
    GameScene.prototype.stageListener = function () {
        // player win
        if (this.winCheckCnt++ >= Const.MaxWinCheckTime) {
            console.log("You win. Stage: " + this.stageIdx);
            this.nextStage();
            // clear listener
            Laya.timer.clear(this, this.stageListener);
        }
        // player fail: out of ammo
        else if (this.currBulletNum >= this.MaxBulletNum) {
            console.log("out of ammo");
            this.restart();
            Laya.timer.clear(this, this.stageListener);
        }
    };
    /** restart current stage */
    GameScene.prototype.restart = function () {
        this.loadGameStage();
    };
    /** start next stage */
    GameScene.prototype.nextStage = function () {
        this.stageIdx++;
        if (this.stageIdx <= Const.StageNum) {
            this.loadGameStage();
        }
        else {
            console.log("通关");
        }
    };
    /** mouse click event: shoot a bullet */
    GameScene.prototype.onClick = function () {
        // check res loading complete
        if (!this.gameStage || !this.player || !this._bullet) {
            return;
        }
        // play shoot animation
        this.shootTime = Const.PlayerShootLifeTime;
        this.playerAni.speed = 1;
        // get ray
        this.mousePoint.x = Laya.MouseManager.instance.mouseX;
        this.mousePoint.y = Laya.MouseManager.instance.mouseY;
        this.camera.viewportPointToRay(this.mousePoint, this.ray);
        // get bullet shooting direction
        var bulletDirection = new Laya.Vector3();
        if (this.scene3D.physicsSimulation.rayCast(this.ray, this.hitResult, 30)) {
            // direction vector: [bullet init point] to [mouse hit point]
            Laya.Vector3.subtract(this.hitResult.point, Const.BulletInitPos, bulletDirection);
        }
        else {
            // direction vector: [camera point] to [mouse hit point]
            var aV3 = new Laya.Vector3();
            // ray direction scale: to depth scaleZ
            var scaleV = this.camera.farPlane;
            scaleV = 20;
            Laya.Vector3.scale(this.ray.direction, scaleV, aV3);
            // direction vector: [bullet init point] to [camera point]
            var bV3 = new Laya.Vector3();
            Laya.Vector3.subtract(this.camera.transform.position, Const.BulletInitPos, bV3);
            // direction vector: [bullet init point] to [mouse hit point]
            Laya.Vector3.add(aV3, bV3, bulletDirection);
        }
        Laya.Vector3.normalize(bulletDirection, bulletDirection);
        // create bullet
        this.createBullet(1 /* FROZEN */, bulletDirection);
    };
    /** create bullet */
    GameScene.prototype.createBullet = function (type, direction) {
        this.bulletType = type;
        var bullet = this._bullet.clone();
        bullet.name = "bullet";
        this.scene3D.addChild(bullet);
        // trasform
        bullet.transform.localPosition = Const.BulletInitPos.clone();
        bullet.transform.localRotationEuler = Const.BulletInitRot.clone();
        Laya.Vector3.scale(bullet.transform.localScale, Const.BulletScale[this.bulletType], bullet.transform.localScale);
        // add rigidbody
        var bulletRigid = bullet.getComponent(Laya.Rigidbody3D);
        // quick moving detecion
        bulletRigid.ccdMotionThreshold = 0.0001;
        bulletRigid.ccdSweptSphereRadius = Const.BulletRadius * Const.BulletScale[this.bulletType];
        // set physics
        bulletRigid.mass = Const.BulletMass[this.bulletType];
        // set velocity
        var velocity = direction.clone();
        Laya.Vector3.scale(velocity, Const.BulletVelocity[this.bulletType], velocity);
        bulletRigid.linearVelocity = velocity.clone();
        // add script
        var bulletScript = bullet.addComponent(Bullet_1.default);
        // set type
        bulletScript.setType(this.bulletType);
        // 开放物体物理受力：玩家有效输入前，子弹发射轨迹形状检测是否有碰撞
        if (!this.isStageStart) {
            var shape = new Laya.SphereColliderShape(Const.BulletRadius * 5);
            var checkHitResult = [];
            if (this.scene3D.physicsSimulation.shapeCastAll(shape, Const.BulletInitPos, velocity, checkHitResult)) {
                for (var i in checkHitResult) {
                    if (checkHitResult[i].collider.owner.name !== "stand") {
                        this.isStageStart = true;
                    }
                }
            }
        }
    };
    return GameScene;
}(layaMaxUI_1.ui.game.GameSceneUI));
exports.default = GameScene;
},{"../Const":3,"../component/Bullet":4,"../component/Guard":5,"../component/Target":6,"./../../ui/layaMaxUI":8}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var game;
    (function (game) {
        var GameSceneUI = /** @class */ (function (_super) {
            __extends(GameSceneUI, _super);
            function GameSceneUI() {
                return _super.call(this) || this;
            }
            GameSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("game/GameScene");
            };
            return GameSceneUI;
        }(Scene));
        game.GameSceneUI = GameSceneUI;
        REG("ui.game.GameSceneUI", GameSceneUI);
    })(game = ui.game || (ui.game = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9Db25zdC50cyIsInNyYy9zY3JpcHQvY29tcG9uZW50L0J1bGxldC50cyIsInNyYy9zY3JpcHQvY29tcG9uZW50L0d1YXJkLnRzIiwic3JjL3NjcmlwdC9jb21wb25lbnQvVGFyZ2V0LnRzIiwic3JjL3NjcmlwdC9ydW50aW1lL0dhbWVTY2VuZS50cyIsInNyYy91aS9sYXlhTWF4VUkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVkEsZ0dBQWdHO0FBQ2hHLHdEQUFrRDtBQUNsRDs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLDZCQUE2QixFQUFDLG1CQUFTLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBaEJNLGdCQUFLLEdBQVEsR0FBRyxDQUFDO0lBQ2pCLGlCQUFNLEdBQVEsSUFBSSxDQUFDO0lBQ25CLG9CQUFTLEdBQVEsWUFBWSxDQUFDO0lBQzlCLHFCQUFVLEdBQVEsTUFBTSxDQUFDO0lBQ3pCLGlCQUFNLEdBQVEsS0FBSyxDQUFDO0lBQ3BCLGlCQUFNLEdBQVEsTUFBTSxDQUFDO0lBQ3JCLHFCQUFVLEdBQUssc0JBQXNCLENBQUM7SUFDdEMsb0JBQVMsR0FBUSxFQUFFLENBQUM7SUFDcEIsZ0JBQUssR0FBUyxLQUFLLENBQUM7SUFDcEIsZUFBSSxHQUFTLElBQUksQ0FBQztJQUNsQix1QkFBWSxHQUFTLEtBQUssQ0FBQztJQUMzQiw0QkFBaUIsR0FBUyxJQUFJLENBQUM7SUFNMUMsaUJB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WUFDckMsQ0FBQztZQUNMLGtCQUFDO1FBQUQsQ0FOQSxBQU1DLENBTmdDLEtBQUssR0FNckM7UUFOWSxnQkFBVyxjQU12QixDQUFBO1FBQ0QsR0FBRyxDQUFDLHFCQUFxQixFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzNDLENBQUMsRUFUZ0IsSUFBSSxHQUFKLE9BQUksS0FBSixPQUFJLFFBU3BCO0FBQUQsQ0FBQyxFQVRhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQVNmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVNjZW5lIGZyb20gXCIuL3NjcmlwdC9ydW50aW1lL0dhbWVTY2VuZVwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJnYW1lL0dhbWVTY2VuZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj10cnVlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvcnVudGltZS9HYW1lU2NlbmUudHNcIixHYW1lU2NlbmUpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsIi8qKiB2ZXJzaW9uICovXHJcbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIxLjAuMFwiO1xyXG5cclxuLyoqIHBhZ2VzICovXHJcbmV4cG9ydCBjb25zdCBVUkxfSG9tZVZpZXc6IHN0cmluZyA9IFwiaG9tZS9Ib21lVmlldy5zY2VuZVwiO1xyXG5leHBvcnQgY29uc3QgVVJMX0dhbWVTY2VuZTogc3RyaW5nID0gXCJnYW1lL0dhbWVTY2VuZS5zY2VuZVwiO1xyXG5leHBvcnQgY29uc3QgVVJMX092ZXJWaWV3OiBzdHJpbmcgPSBcIm92ZXIvT3ZlclZpZXcuc2NlbmVcIjtcclxuZXhwb3J0IGNvbnN0IFVSTF9SZXZpdmVWaWV3OiBzdHJpbmcgPSBcImRpYWxvZy9SZXZpdmVWaWV3LnNjZW5lXCI7XHJcblxyXG4vKiogY2FtZXJhICovXHJcbmV4cG9ydCBjb25zdCBDYW1lcmFJbml0UG9zOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDAuNSwgMCk7XHJcbmV4cG9ydCBjb25zdCBDYW1lcmFJbml0Um90RXVsZXI6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgMCk7XHJcblxyXG4vKiogZGlyZWN0aW9uYWwgbGlnaHQgKi9cclxuZXhwb3J0IGNvbnN0IExpZ2h0SW5pdFBvczogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygtMywgNSwgMCk7XHJcbmV4cG9ydCBjb25zdCBMaWdodEluaXRSb3RFdWxlcjogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygtNDUsIC0zMCwgMCk7XHJcblxyXG4vKiogZ2FtZSBzdGFnZSAqL1xyXG5leHBvcnQgY29uc3QgU3RhZ2VSZXNVcmw6IHN0cmluZyA9IFwicmVzL3N0YWdlL291dC9cIjtcclxuZXhwb3J0IGNvbnN0IFN0YWdlSW5pdFBvczogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygwLCAwLCAwKTtcclxuZXhwb3J0IGNvbnN0IFN0YWdlSW5pdFJvdDogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygwLCAxODAsIDApO1xyXG5leHBvcnQgY29uc3QgU3RhZ2VJbml0U2NhbGU6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoNDAsIDQwLCA0MCk7XHJcbmV4cG9ydCBjb25zdCBTdGFnZU51bTogbnVtYmVyID0gMzA7XHJcbi8vIHdpbm5pbmcgY2hlY2sgZnJhbWVcclxuZXhwb3J0IGNvbnN0IE1heFdpbkNoZWNrVGltZTogbnVtYmVyID0gOTA7XHJcbi8vIOWxj+iUveeJqeS9k+eJqeeQhuWPl+WKm+WJjeetieW+heaXtumXtFxyXG5leHBvcnQgY29uc3QgU2V0S2luZW1hdGljV2FpdFRpbWU6IG51bWJlciA9IDIwO1xyXG5cclxuLyoqIGN1YmUgKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gVGFyZ2V0VHlwZSB7XHJcbiAgICBERUZBVUxUID0gMCxcclxuICAgIEdMQVNTID0gMSxcclxuICAgIFROVCA9IDJcclxufVxyXG5cclxuLyoqIGdsYXNzICovXHJcbmV4cG9ydCBjb25zdCBHbGFzc0Jyb2tlblZlbG9jaXR5OiBudW1iZXIgPSAzO1xyXG5cclxuLyoqIG9ic3RhY2xlIHBpZWNlICovXHJcbmV4cG9ydCBjb25zdCBQaWVjZVJlc1VybDogc3RyaW5nID0gXCJyZXMvY3ViZV9waWVjZS5sbVwiO1xyXG5leHBvcnQgY29uc3QgUGllY2VzTnVtOiBudW1iZXIgPSAzO1xyXG5leHBvcnQgY29uc3QgUGllY2VzQnJva2VuVGltZTogbnVtYmVyID0gMTIwO1xyXG5cclxuLyoqIGJ1bGxldCAqL1xyXG5leHBvcnQgY29uc3QgQnVsbGV0UmVzVXJsOiBzdHJpbmcgPSBcInJlcy9idWxsZXQubGhcIjtcclxuZXhwb3J0IGNvbnN0IEJ1bGxldEluaXRQb3M6IExheWEuVmVjdG9yMyA9IG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgLTEpO1xyXG5leHBvcnQgY29uc3QgQnVsbGV0SW5pdFJvdDogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygxODAsIDAsIDApO1xyXG4vLyB0eXBlXHJcbmV4cG9ydCBjb25zdCBlbnVtIEJ1bGxldFR5cGUge1xyXG4gICAgREVGQVVMVCA9IDAsXHJcbiAgICBGUk9aRU4gPSAxLFxyXG59XHJcbi8vIGluaXQgcmFkaXVzXHJcbmV4cG9ydCBjb25zdCBCdWxsZXRSYWRpdXM6IG51bWJlciA9IDAuMTU7XHJcbi8vIHNjYWxlXHJcbmV4cG9ydCBjb25zdCBCdWxsZXRTY2FsZSA9IFtcclxuICAgIDEsICAgICAgLy8gREVGQVVMVFxyXG4gICAgMS41LCAgICAvLyBGUk9aRU5cclxuXTtcclxuLy8gbWFzc1xyXG5leHBvcnQgY29uc3QgQnVsbGV0TWFzcyA9IFtcclxuICAgIDEwLCAgICAgLy8gREVGQVVMVFxyXG4gICAgMTAsICAgICAvLyBGUk9aRU5cclxuXTtcclxuLy8gdmVsb2NpdHlcclxuZXhwb3J0IGNvbnN0IEJ1bGxldFZlbG9jaXR5ID0gW1xyXG4gICAgNTAsICAgICAvLyBERUZBVUxUXHJcbiAgICA1MCwgICAgIC8vIEZST1pFTlxyXG5dO1xyXG5cclxuLyoqIHBsYXllciAqL1xyXG5leHBvcnQgY29uc3QgUGxheWVyUmVzVXJsOiBzdHJpbmcgPSBcInJlcy9odW1hbi5saFwiO1xyXG5leHBvcnQgY29uc3QgUGxheWVySW5pdFBvczogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygwLCAtMC4xLCAtMSk7XHJcbmV4cG9ydCBjb25zdCBQbGF5ZXJJbml0Um90OiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDkwLCAxNjgsIDApO1xyXG5leHBvcnQgY29uc3QgUGxheWVySW5pdFNjYWxlOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDIwLCAyMCwgMjApO1xyXG5leHBvcnQgY29uc3QgUGxheWVyU2hvb3RMaWZlVGltZTogbnVtYmVyID0gMTA7XHJcbiIsImltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4uL3J1bnRpbWUvR2FtZVNjZW5lXCI7XHJcbmltcG9ydCAqIGFzIENvbnN0IGZyb20gXCIuLi9Db25zdFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWxsZXRTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdDNEIHtcclxuICAgIHByaXZhdGUgYnVsbGV0OiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHByaXZhdGUgcmlnaWRib2R5OiBMYXlhLlJpZ2lkYm9keTNEO1xyXG5cclxuICAgIHB1YmxpYyB0eXBlOiBudW1iZXIgPSBDb25zdC5CdWxsZXRUeXBlLkRFRkFVTFQ7XHJcblxyXG4gICAgcHJpdmF0ZSBsaWZldGltZTogbnVtYmVyID0gMTIwO1xyXG5cclxuICAgIHByaXZhdGUgY29sbGlzaW9uQmxhY2tMaXN0OiBzdHJpbmdbXSA9IFtcImJ1bGxldFwiLCBcInBsYXllclwiXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKSB7XHJcbiAgICAgICAgdGhpcy5idWxsZXQgPSB0aGlzLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIHRoaXMucmlnaWRib2R5ID0gdGhpcy5idWxsZXQuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRib2R5M0QpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8vIGNoZWNrIHNwaXJ0ZSBhbGl2ZVxyXG4gICAgICAgIGlmICh0aGlzLmJ1bGxldC5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHVwZGF0ZSBsaWZldGltZVxyXG4gICAgICAgIHRoaXMubGlmZXRpbWUtLTtcclxuICAgICAgICBpZiAodGhpcy5saWZldGltZSA8IDApIHtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UoMSwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGNvdW50ZXJcclxuICAgICAgICAgICAgICAgIEdhbWVTY2VuZS5pbnN0YW5jZS5jdXJyQnVsbGV0TnVtKys7XHJcbiAgICAgICAgICAgICAgICAvLyBkZXN0cm95XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1bGxldC5yZW1vdmVTZWxmKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBzZXQgbWF0ZXJpYWwgYnkgdHlwZSAqL1xyXG4gICAgc2V0VHlwZSh0eXBlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IENvbnN0LkJ1bGxldFR5cGUuREVGQVVMVCkge1xyXG4gICAgICAgICAgICBsZXQgbWF0OiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtYXQucmVuZGVyTW9kZSA9IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsLlJFTkRFUk1PREVfVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMSwgMC43LCAxLCAwLjcpO1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gQ29uc3QuQnVsbGV0VHlwZS5GUk9aRU4pIHtcclxuICAgICAgICAgICAgbGV0IG1hdDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuICAgICAgICAgICAgbWF0LnJlbmRlck1vZGUgPSBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbC5SRU5ERVJNT0RFX1RSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICBtYXQuYWxiZWRvQ29sb3IgPSBuZXcgTGF5YS5WZWN0b3I0KDAuMiwgMC4yLCAxLCAwLjcpO1xyXG4gICAgICAgICAgICB0aGlzLmJ1bGxldC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIG9uQ29sbGlzaW9uRW50ZXIoY29sbGlzaW9uOiBMYXlhLkNvbGxpc2lvbikge1xyXG4gICAgLy8gfVxyXG59IiwiaW1wb3J0ICogYXMgQ29uc3QgZnJvbSBcIi4uL0NvbnN0XCI7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4uL3J1bnRpbWUvR2FtZVNjZW5lXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHdWFyZCBleHRlbmRzIExheWEuU2NyaXB0M0Qge1xyXG4gICAgcHJpdmF0ZSBndWFyZDogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0UG9zOiBMYXlhLlZlY3RvcjM7XHJcblxyXG4gICAgcHJpdmF0ZSBzaXplWDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzaXplWTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBzaXplWjogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgTWF4TW92ZVRpbWVzOiBudW1iZXIgPSA2MDtcclxuICAgIHByaXZhdGUgbW92ZVRpbWVzOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpIHtcclxuICAgICAgICAvLyBnZXQgc3ByaXRlXHJcbiAgICAgICAgdGhpcy5ndWFyZCA9IHRoaXMub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gZ2V0IHNpemVcclxuICAgICAgICBsZXQgYm91bmRpbmdCb3g6IExheWEuQm91bmRCb3ggPSB0aGlzLmd1YXJkLm1lc2hGaWx0ZXIuc2hhcmVkTWVzaC5ib3VuZGluZ0JveC5jbG9uZSgpO1xyXG4gICAgICAgIHRoaXMuc2l6ZVggPSBib3VuZGluZ0JveC5tYXgueCAtIGJvdW5kaW5nQm94Lm1pbi54O1xyXG4gICAgICAgIHRoaXMuc2l6ZVkgPSBib3VuZGluZ0JveC5tYXgueSAtIGJvdW5kaW5nQm94Lm1pbi55O1xyXG4gICAgICAgIHRoaXMuc2l6ZVogPSBib3VuZGluZ0JveC5tYXgueiAtIGJvdW5kaW5nQm94Lm1pbi56O1xyXG4gICAgICAgIC8vIGFkZCBjb2xsaWRlclxyXG4gICAgICAgIGxldCBjb2xsaWRlcjogTGF5YS5QaHlzaWNzQ29sbGlkZXIgPSB0aGlzLmd1YXJkLmFkZENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcik7XHJcbiAgICAgICAgY29sbGlkZXIuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLkJveENvbGxpZGVyU2hhcGUodGhpcy5zaXplWCwgdGhpcy5zaXplWSwgdGhpcy5zaXplWik7XHJcbiAgICAgICAgLy8gcmVjb3JkIGluaXQgcG9zXHJcbiAgICAgICAgdGhpcy5pbml0UG9zID0gdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbi5jbG9uZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8vIGNoZWNrIHNwaXJ0ZSBhbGl2ZVxyXG4gICAgICAgIGlmICh0aGlzLmd1YXJkLmRlc3Ryb3llZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIOW5s+enuyAqL1xyXG4gICAgICAgIHRoaXMubW92ZVRpbWVzID0gKHRoaXMubW92ZVRpbWVzICsgMSkgJSAodGhpcy5NYXhNb3ZlVGltZXMgKiAyKTtcclxuICAgICAgICAvLyDkvY3np7vmlrnlkJHmoIflv5dcclxuICAgICAgICB2YXIgZmxhZyA9IE1hdGguZmxvb3IoKHRoaXMubW92ZVRpbWVzIC8gdGhpcy5NYXhNb3ZlVGltZXMpICUgMik7XHJcbiAgICAgICAgLy8gWOWSjFnmlrnlkJHlubPnp7vmraXov5tcclxuICAgICAgICB2YXIgbW92ZVN0ZXBYOiBudW1iZXIgPSB0aGlzLnNpemVYICogdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxTY2FsZVggLyAyIC8gdGhpcy5NYXhNb3ZlVGltZXM7XHJcbiAgICAgICAgdmFyIG1vdmVTdGVwWTogbnVtYmVyID0gdGhpcy5zaXplWSAqIHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsU2NhbGVZIC8gMiAvIHRoaXMuTWF4TW92ZVRpbWVzO1xyXG4gICAgICAgIC8vIFrovbTml4vovaw5MO+8jFjlkoxZ5LqS5o2iXHJcbiAgICAgICAgaWYgKE1hdGguZmxvb3IoKE1hdGguYWJzKHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclopICsgOTAuNSkgJSAxODApID09PSAwKSB7XHJcbiAgICAgICAgICAgIGxldCB0bXAgPSBtb3ZlU3RlcFg7XHJcbiAgICAgICAgICAgIG1vdmVTdGVwWCA9IG1vdmVTdGVwWTtcclxuICAgICAgICAgICAgbW92ZVN0ZXBZID0gdG1wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyDlhajlsY/msLTlubPnp7vliqhcclxuICAgICAgICBpZiAodGhpcy5ndWFyZC5uYW1lLnNlYXJjaChcIm1vdmVfeFwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTWF4TW92ZVRpbWVzID0gMTIwO1xyXG4gICAgICAgICAgICBtb3ZlU3RlcFggPSB0aGlzLmluaXRQb3MueCAqIDIgLyB0aGlzLk1heE1vdmVUaW1lcztcclxuICAgICAgICAgICAgZmxhZyA9IE1hdGguZmxvb3IoKHRoaXMubW92ZVRpbWVzIC8gdGhpcy5NYXhNb3ZlVGltZXMpICUgMik7XHJcbiAgICAgICAgICAgIGlmIChmbGFnKSB7IHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25YICs9IG1vdmVTdGVwWDsgfVxyXG4gICAgICAgICAgICBlbHNlIHsgdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblggLT0gbW92ZVN0ZXBYOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWFqOWxj+e6teWQkeenu+WKqFxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ3VhcmQubmFtZS5zZWFyY2goXCJtb3ZlX3lcIikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLk1heE1vdmVUaW1lcyA9IDEyMDtcclxuICAgICAgICAgICAgbW92ZVN0ZXBZID0gdGhpcy5pbml0UG9zLnkgKiAyIC8gdGhpcy5NYXhNb3ZlVGltZXM7XHJcbiAgICAgICAgICAgIGZsYWcgPSBNYXRoLmZsb29yKCh0aGlzLm1vdmVUaW1lcyAvIHRoaXMuTWF4TW92ZVRpbWVzKSAlIDIpO1xyXG4gICAgICAgICAgICBpZiAoZmxhZykgeyB0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWSArPSBtb3ZlU3RlcFk7IH1cclxuICAgICAgICAgICAgZWxzZSB7IHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25ZIC09IG1vdmVTdGVwWTsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDljYrlsY/np7vliqhcclxuICAgICAgICBlbHNlIGlmICh0aGlzLmd1YXJkLm5hbWUuc2VhcmNoKFwibW92ZV9sZWZ0XCIpID49IDApIHtcclxuICAgICAgICAgICAgaWYgKGZsYWcpIHsgdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblggLT0gbW92ZVN0ZXBYOyB9XHJcbiAgICAgICAgICAgIGVsc2UgeyB0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWCArPSBtb3ZlU3RlcFg7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5ndWFyZC5uYW1lLnNlYXJjaChcIm1vdmVfcmlnaHRcIikgPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAoZmxhZykgeyB0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWCArPSBtb3ZlU3RlcFg7IH1cclxuICAgICAgICAgICAgZWxzZSB7IHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25YIC09IG1vdmVTdGVwWDsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmd1YXJkLm5hbWUuc2VhcmNoKFwibW92ZV91cFwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChmbGFnKSB7IHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25ZIC09IG1vdmVTdGVwWTsgfVxyXG4gICAgICAgICAgICBlbHNlIHsgdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblkgKz0gbW92ZVN0ZXBZOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ3VhcmQubmFtZS5zZWFyY2goXCJtb3ZlX2Rvd25cIikgPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAoZmxhZykgeyB0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWSArPSBtb3ZlU3RlcFk7IH1cclxuICAgICAgICAgICAgZWxzZSB7IHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25ZIC09IG1vdmVTdGVwWTsgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIOaXi+i9rCAqL1xyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ3VhcmQubmFtZS5zZWFyY2goXCJyb3RhdGVfbGVmdFwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclkgPSAodGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyWSArIDEpICUgMzYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmd1YXJkLm5hbWUuc2VhcmNoKFwicm90YXRlX3JpZ2h0XCIpID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyWSA9ICh0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJZIC0gMSkgJSAzNjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ3VhcmQubmFtZS5zZWFyY2goXCJyb3RhdGVfdXBcIikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJYID0gKHRoaXMuZ3VhcmQudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclggKyAxKSAlIDM2MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5ndWFyZC5uYW1lLnNlYXJjaChcInJvdGF0ZV9kb3duXCIpID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5ndWFyZC50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyWCA9ICh0aGlzLmd1YXJkLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJYIC0gMSkgJSAzNjA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0ICogYXMgQ29uc3QgZnJvbSBcIi4uL0NvbnN0XCI7XHJcbmltcG9ydCBHYW1lU2NlbmUgZnJvbSBcIi4uL3J1bnRpbWUvR2FtZVNjZW5lXCI7XHJcbmltcG9ydCBCdWxsZXQgZnJvbSBcIi4uL2NvbXBvbmVudC9CdWxsZXRcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFyZ2V0IGV4dGVuZHMgTGF5YS5TY3JpcHQzRCB7XHJcbiAgICBwcml2YXRlIHRhcmdldDogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICBwcml2YXRlIHJpZ2lkYm9keTogTGF5YS5SaWdpZGJvZHkzRDtcclxuXHJcbiAgICBwcml2YXRlIHR5cGU6IG51bWJlciA9IENvbnN0LlRhcmdldFR5cGUuREVGQVVMVDtcclxuXHJcbiAgICBwcml2YXRlIHNpemVYOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNpemVZOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHNpemVaOiBudW1iZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBjb2xsaXNpb25CbGFja0xpc3Q6IHN0cmluZ1tdID0gW1wic3RhbmRcIiwgXCJHdWFyZFwiXTtcclxuXHJcbiAgICAvKiogdGFyZ2V0IG9iamVjdCBwaWVjZXMgKi9cclxuICAgIHByaXZhdGUgcGllY2VzTGlzdDogTGF5YS5NZXNoU3ByaXRlM0RbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMub3duZXIgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0UmlnaWRib2R5KCk7XHJcbiAgICAgICAgLy8g5bu25ZCO5Yeg5bin5bGP6JS954mp55CG5Y+X5Yqb77yM5Lul562J5b6F54mp5L2T5o6J6JC95pS+572uXHJcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UoQ29uc3QuU2V0S2luZW1hdGljV2FpdFRpbWUsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFHYW1lU2NlbmUuaW5zdGFuY2UuaXNTdGFnZVN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2lkYm9keS5pc0tpbmVtYXRpYyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0UGllY2VzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Db2xsaXNpb25FbnRlcihjb2xsaXNpb246IExheWEuQ29sbGlzaW9uKTogdm9pZCB7XHJcbiAgICAgICAgLy8gLy8gcmVzZXQgd2luIGNoZWNrIGNvdW50ZXJcclxuICAgICAgICAvLyBpZiAoY29sbGlzaW9uLm90aGVyLm93bmVyLm5hbWUgPT09IFwic3RhbmRcIikge1xyXG4gICAgICAgIC8vICAgICBHYW1lU2NlbmUuaW5zdGFuY2Uud2luQ2hlY2tDbnQgPSAwO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgbGV0IG90aGVyOiBMYXlhLk1lc2hTcHJpdGUzRCA9IGNvbGxpc2lvbi5vdGhlci5vd25lciBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuXHJcbiAgICAgICAgLy8g5a2Q5by55pWI5p6c5aSE55CGXHJcbiAgICAgICAgaWYgKG90aGVyLm5hbWUgPT09IFwiYnVsbGV0XCIpIHtcclxuICAgICAgICAgICAgbGV0IGJ1bGxldDogQnVsbGV0ID0gb3RoZXIuZ2V0Q29tcG9uZW50KEJ1bGxldCk7XHJcbiAgICAgICAgICAgIGlmIChidWxsZXQudHlwZSA9PT0gQ29uc3QuQnVsbGV0VHlwZS5ERUZBVUxUKSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGJ1bGxldC50eXBlID09PSBDb25zdC5CdWxsZXRUeXBlLkZST1pFTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUeXBlKENvbnN0LlRhcmdldFR5cGUuR0xBU1MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDmnKzkvZPlj5flh7vmiZPlpITnkIZcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBDb25zdC5UYXJnZXRUeXBlLkdMQVNTKSB7XHJcbiAgICAgICAgICAgIC8vIOebuOWvuemAn+W6pumrmOWPr+WHu+eijlxyXG4gICAgICAgICAgICBsZXQgdmVsb2NpdHk6IExheWEuVmVjdG9yMyA9IHRoaXMucmlnaWRib2R5LmxpbmVhclZlbG9jaXR5LmNsb25lKCk7XHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eU90aGVyOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApO1xyXG4gICAgICAgICAgICAvLyBub3QgcGxheWZvcm1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uQmxhY2tMaXN0LmluZGV4T2Yob3RoZXIubmFtZSkgPCAwICYmIG90aGVyLm5hbWUuaW5kZXhPZihcIkd1YXJkXCIpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlPdGhlciA9IChvdGhlci5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkgYXMgTGF5YS5SaWdpZGJvZHkzRCkubGluZWFyVmVsb2NpdHkuY2xvbmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdmVsb2NpdHlWYWx1ZTogbnVtYmVyID0gTGF5YS5WZWN0b3IzLmRpc3RhbmNlKHZlbG9jaXR5LCB2ZWxvY2l0eU90aGVyKTtcclxuICAgICAgICAgICAgaWYgKHZlbG9jaXR5VmFsdWUgPj0gQ29uc3QuR2xhc3NCcm9rZW5WZWxvY2l0eSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5pc0hpdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uQ29sbGlzaW9uU3RheShjb2xsaXNpb246IExheWEuQ29sbGlzaW9uKTogdm9pZCB7XHJcbiAgICAgICAgLy8gLy8gcmVzZXQgd2luIGNoZWNrIGNvdW50ZXJcclxuICAgICAgICAvLyBpZiAoY29sbGlzaW9uLm90aGVyLm93bmVyLm5hbWUgPT09IFwic3RhbmRcIikge1xyXG4gICAgICAgIC8vICAgICBHYW1lU2NlbmUuaW5zdGFuY2Uud2luQ2hlY2tDbnQgPSAwO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgb3RoZXI6IExheWEuTWVzaFNwcml0ZTNEID0gY29sbGlzaW9uLm90aGVyLm93bmVyIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG5cclxuICAgICAgICAvLyDlrZDlvLnmlYjmnpzlpITnkIZcclxuICAgICAgICBpZiAob3RoZXIubmFtZSA9PT0gXCJidWxsZXRcIikge1xyXG4gICAgICAgICAgICBsZXQgYnVsbGV0OiBCdWxsZXQgPSBvdGhlci5nZXRDb21wb25lbnQoQnVsbGV0KTtcclxuICAgICAgICAgICAgaWYgKGJ1bGxldC50eXBlID09PSBDb25zdC5CdWxsZXRUeXBlLkRFRkFVTFQpIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYnVsbGV0LnR5cGUgPT09IENvbnN0LkJ1bGxldFR5cGUuRlJPWkVOKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFR5cGUoQ29uc3QuVGFyZ2V0VHlwZS5HTEFTUyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gb25Db2xsaXNpb25FeGl0KGNvbGxpc2lvbjogTGF5YS5Db2xsaXNpb24pOiB2b2lkIHtcclxuICAgIC8vICAgICAvLyByZXNldCB3aW4gY2hlY2sgY291bnRlclxyXG4gICAgLy8gICAgIGlmIChjb2xsaXNpb24ub3RoZXIub3duZXIubmFtZSA9PT0gXCJzdGFuZFwiKSB7XHJcbiAgICAvLyAgICAgICAgIEdhbWVTY2VuZS5pbnN0YW5jZS53aW5DaGVja0NudCA9IDA7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIG9uVXBkYXRlKCkge1xyXG4gICAgICAgIC8vIGNoZWNrIHNwaXJ0ZSBhbGl2ZVxyXG4gICAgICAgIGlmICh0aGlzLnRhcmdldC5kZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHN0YWdlIHN0YXJ0XHJcbiAgICAgICAgaWYgKHRoaXMucmlnaWRib2R5LmlzS2luZW1hdGljICYmIEdhbWVTY2VuZS5pbnN0YW5jZS5pc1N0YWdlU3RhcnQpIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdpZGJvZHkuaXNLaW5lbWF0aWMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiB3aW4gY2hlY2tcclxuICAgICAgICAgKiAg5byV5pOOYnVn77ya54mp5L2T5p625Zyo5Lik5Liq5bmz5Y+w5aS557yd5LiK5pe277yM5LiN6Kem5Y+Rb25Db2xsaXNpb25TdGF5LFxyXG4gICAgICAgICAqICDmlYXlrozlloTlhbPljaHog5zliKnliKTmlq3vvIzmoLnmja7niankvZPkuI7lhbPljaHmqKHlnovkuK3lv4Pot53nprvliKTlrprmmK/lkKbmjonlh7rlubPlj7BcclxuICAgICAgICAgKiAgcHPvvJrniannkIblvJXmk45idWfovoPlpJrvvIzlj6/ku6XmnaXlvJXmk47lkYjnjrDniannkIblro/op4LmlYjmnpzvvIzkvYblsL3ph4/lsJHkvp3otZbnorDmkp7lgZrpnIDopoHnqLPlrprnmoTlupXlsYLlpITnkIZcclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgZGlzdDogbnVtYmVyID0gTGF5YS5WZWN0b3IzLmRpc3RhbmNlKHRoaXMudGFyZ2V0LnRyYW5zZm9ybS5wb3NpdGlvbiwgR2FtZVNjZW5lLmluc3RhbmNlLmdhbWVTdGFnZS50cmFuc2Zvcm0ucG9zaXRpb24pO1xyXG4gICAgICAgIGlmIChkaXN0IDwgMjApIHtcclxuICAgICAgICAgICAgLy8gcmVzZXQgd2luIGNoZWNrIGNvdW50ZXJcclxuICAgICAgICAgICAgR2FtZVNjZW5lLmluc3RhbmNlLndpbkNoZWNrQ250ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiBwaHlzaWNzIGVuZ2luZSBidWcgZGV0ZWN0aW5nIGFuZCBmaXhpbmdcclxuICAgICAgICAgKiAg5byV5pOOYnVn77ya5ae/5oCB56iz5a6a5oOF5Ya15LiL77yM5p+Q5Liq54mp5L2T5L2c55So5Yqb5pa55ZCR77yI5aaC6YeN5Yqb5pe255qE5bqV5LiL77yJ55qE56Kw5pKe54mp5L2T5b+r6YCf5raI5aSx77yMXHJcbiAgICAgICAgICogIOiAjOatpOi/h+eoi+S4reebuOS6kuS9nOeUqOW9seWTjei/h+Wwj+WvvOiHtOiHqui6q+Wnv+aAgeayoeacieWPmOWMluaXtu+8jOW8leaTjuS8muiHquWKqOWwhuivpeeJqeS9k+eahOWImuS9k+mdnua/gOa0u++8jOS7juiAjOWvvOiHtOiFvuepuueOsOixoe+8jFxyXG4gICAgICAgICAqICDlop7lpKfniankvZPpl7Tnm7jkupLkvZznlKjlipvvvIjlpoLmkanmk6bns7vmlbDvvInlj6/lh4/lsJHor6Xmg4XlhrXlj5HnlJ/vvIzkvYbkuI3og73mnZznu53vvIxcclxuICAgICAgICAgKiAg5pWF5Zyo5q2k5qOA5rWL6K+l5oOF5Ya15bm25a+55Yia5L2T6ZSA5q+B6YeN5bu6XHJcbiAgICAgICAgICogKi9cclxuICAgICAgICBpZiAodGhpcy5yaWdpZGJvZHkgJiYgdGhpcy5yaWdpZGJvZHkuaXNBY3RpdmUgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUmlnaWRib2R5KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGh5c2ljc19lbmdpbmVfYnVnX2ZpeGluZzogUmVzZXQgcmlnaWRib2R5LlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGRlc3Ryb3kgYW5kIHJlY3JlYXRlIHJpZ2lkYm9keSAqL1xyXG4gICAgcHJpdmF0ZSByZWZyZXNoUmlnaWRib2R5KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJpZ2lkYm9keSkge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2lkYm9keS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UmlnaWRib2R5KCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVmcmVzaCByaWdpZGJvZHlcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHNldCBtYXRlcmlhbCBieSB0eXBlICovXHJcbiAgICBzZXRUeXBlKHR5cGU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gQ29uc3QuVGFyZ2V0VHlwZS5HTEFTUykge1xyXG4gICAgICAgICAgICBsZXQgbWF0OiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtYXQucmVuZGVyTW9kZSA9IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsLlJFTkRFUk1PREVfVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMC43LCAwLjcsIDEsIDAuNyk7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHNldCByaWdpZGJvZHkgKi9cclxuICAgIHByaXZhdGUgc2V0UmlnaWRib2R5KCkge1xyXG4gICAgICAgIC8vIGdldCBzaXplIG9mIGJvdW5kaW5nIGJveFxyXG4gICAgICAgIGxldCBib3VuZGluZ0JveDogTGF5YS5Cb3VuZEJveCA9IHRoaXMudGFyZ2V0Lm1lc2hGaWx0ZXIuc2hhcmVkTWVzaC5ib3VuZGluZ0JveC5jbG9uZSgpO1xyXG4gICAgICAgIHRoaXMuc2l6ZVggPSBib3VuZGluZ0JveC5tYXgueCAtIGJvdW5kaW5nQm94Lm1pbi54O1xyXG4gICAgICAgIHRoaXMuc2l6ZVkgPSBib3VuZGluZ0JveC5tYXgueSAtIGJvdW5kaW5nQm94Lm1pbi55O1xyXG4gICAgICAgIHRoaXMuc2l6ZVogPSBib3VuZGluZ0JveC5tYXgueiAtIGJvdW5kaW5nQm94Lm1pbi56O1xyXG4gICAgICAgIC8vIGFkZCByaWdpZGJvZHlcclxuICAgICAgICB0aGlzLnJpZ2lkYm9keSA9IHRoaXMudGFyZ2V0LmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICBpZiAodGhpcy50YXJnZXQubmFtZS5zZWFyY2goXCJDdWJlXCIpID49IDApIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdpZGJvZHkuY29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLkJveENvbGxpZGVyU2hhcGUodGhpcy5zaXplWCwgdGhpcy5zaXplWSwgdGhpcy5zaXplWik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudGFyZ2V0Lm5hbWUuc2VhcmNoKFwiVHJpYW5nbGVcIikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2lkYm9keS5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuQ29uZUNvbGxpZGVyU2hhcGUodGhpcy5zaXplWCAvIDIsIHRoaXMuc2l6ZVkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGNvbGxpZGVyU2hhcGU6IExheWEuTWVzaENvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5NZXNoQ29sbGlkZXJTaGFwZSgpO1xyXG4gICAgICAgICAgICBjb2xsaWRlclNoYXBlLm1lc2ggPSB0aGlzLnRhcmdldC5tZXNoRmlsdGVyLnNoYXJlZE1lc2g7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaWRib2R5LmNvbGxpZGVyU2hhcGUgPSBjb2xsaWRlclNoYXBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFBoeXNpY3NQYXJhbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBzZXQgcGh5c2ljcyBwYXJhbSAqL1xyXG4gICAgcHJpdmF0ZSBzZXRQaHlzaWNzUGFyYW0oKSB7XHJcbiAgICAgICAgdGhpcy5yaWdpZGJvZHkuaXNLaW5lbWF0aWMgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSBDb25zdC5UYXJnZXRUeXBlLkRFRkFVTFQpIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdpZGJvZHkubWFzcyA9IDEwO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2lkYm9keS5mcmljdGlvbiA9IDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnR5cGUgPT09IENvbnN0LlRhcmdldFR5cGUuR0xBU1MpIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdpZGJvZHkubWFzcyA9IDAuMTtcclxuICAgICAgICAgICAgdGhpcy5yaWdpZGJvZHkuZnJpY3Rpb24gPSAyO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiogc2V0IHRhcmdldCBicm9rZW4gKi9cclxuICAgIHByaXZhdGUgYnJva2VuKCkge1xyXG4gICAgICAgIC8vIHBsYXkgYnJva2VuIHNvdW5kXHJcblxyXG4gICAgICAgIC8vIHNob3cgcGllY2VzXHJcbiAgICAgICAgdGhpcy5lZmZlY3RQaWVjZXNCcm9rZW4oKTtcclxuICAgICAgICAvLyBoaWRlIHRhcmdldFxyXG4gICAgICAgIExheWEudGltZXIuZnJhbWVPbmNlKDEsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGluaXQgdGFyZ2V0IHBpZWNlcyAqL1xyXG4gICAgcHJpdmF0ZSBpbml0UGllY2VzKCkge1xyXG4gICAgICAgIExheWEuTWVzaC5sb2FkKENvbnN0LlBpZWNlUmVzVXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChtZXNoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwaWVjZTogTGF5YS5NZXNoU3ByaXRlM0QgPSBuZXcgTGF5YS5NZXNoU3ByaXRlM0QobWVzaCk7XHJcblxyXG4gICAgICAgICAgICBwaWVjZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgcGllY2UubmFtZSA9IFwicGllY2VcIjtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBtYXRlcmlhbFxyXG4gICAgICAgICAgICBsZXQgbWF0OiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgICAgICBtYXQucmVuZGVyTW9kZSA9IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsLlJFTkRFUk1PREVfVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgIG1hdC5hbGJlZG9Db2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMC43LCAwLjcsIDEsIDAuNyk7XHJcbiAgICAgICAgICAgIHBpZWNlLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdDtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCByaWdpZGJvZHlcclxuICAgICAgICAgICAgbGV0IHBpZWNlUmlnaWQ6IExheWEuUmlnaWRib2R5M0QgPSBwaWVjZS5hZGRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCk7XHJcbiAgICAgICAgICAgIGxldCBwaWVjZUNvbGxpZGVyU2hhcGU6IExheWEuTWVzaENvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5NZXNoQ29sbGlkZXJTaGFwZSgpO1xyXG4gICAgICAgICAgICBwaWVjZUNvbGxpZGVyU2hhcGUubWVzaCA9IHBpZWNlLm1lc2hGaWx0ZXIuc2hhcmVkTWVzaDtcclxuICAgICAgICAgICAgcGllY2VSaWdpZC5jb2xsaWRlclNoYXBlID0gcGllY2VDb2xsaWRlclNoYXBlO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIHBpZWNlcyB0byBzY2VuZVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IENvbnN0LlBpZWNlc051bTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpZWNlc0xpc3QucHVzaChwaWVjZS5jbG9uZSgpKTtcclxuICAgICAgICAgICAgICAgIEdhbWVTY2VuZS5pbnN0YW5jZS5zY2VuZTNELmFkZENoaWxkKHRoaXMucGllY2VzTGlzdFtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHBsYXR5IGVmZmVjdDogdGFyZ2V0IGJyb2tlbiB0byBwaWVjZXMgKi9cclxuICAgIHB1YmxpYyBlZmZlY3RQaWVjZXNCcm9rZW4oKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaWR4IGluIHRoaXMucGllY2VzTGlzdCkge1xyXG4gICAgICAgICAgICAvLyBhY3RpdmUgcGllY2VzXHJcbiAgICAgICAgICAgIHRoaXMucGllY2VzTGlzdFtpZHhdLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIHNldCBzaXplIHNjYWxlXHJcbiAgICAgICAgICAgIGxldCBzY2FsZVg6IG51bWJlciA9IChNYXRoLnJhbmRvbSgpICogMC41ICsgMC41KSAqIDEuNSAqIHRoaXMuc2l6ZVggKiB0aGlzLnRhcmdldC50cmFuc2Zvcm0ubG9jYWxTY2FsZVggKiBDb25zdC5TdGFnZUluaXRTY2FsZS54O1xyXG4gICAgICAgICAgICBsZXQgc2NhbGVZOiBudW1iZXIgPSAoTWF0aC5yYW5kb20oKSAqIDAuNSArIDAuNSkgKiAxLjUgKiB0aGlzLnNpemVZICogdGhpcy50YXJnZXQudHJhbnNmb3JtLmxvY2FsU2NhbGVZICogQ29uc3QuU3RhZ2VJbml0U2NhbGUueTtcclxuICAgICAgICAgICAgbGV0IHNjYWxlWjogbnVtYmVyID0gKE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjUpICogMS41ICogdGhpcy5zaXplWiAqIHRoaXMudGFyZ2V0LnRyYW5zZm9ybS5sb2NhbFNjYWxlWiAqIENvbnN0LlN0YWdlSW5pdFNjYWxlLno7XHJcbiAgICAgICAgICAgIHRoaXMucGllY2VzTGlzdFtpZHhdLnRyYW5zZm9ybS5sb2NhbFNjYWxlID0gbmV3IExheWEuVmVjdG9yMyhzY2FsZVgsIHNjYWxlWSwgc2NhbGVaKTtcclxuICAgICAgICAgICAgLy8gc2V0IHJvdFxyXG4gICAgICAgICAgICB0aGlzLnBpZWNlc0xpc3RbaWR4XS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyWCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDIgKiA5MDtcclxuICAgICAgICAgICAgdGhpcy5waWVjZXNMaXN0W2lkeF0udHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclkgPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiAyICogOTA7XHJcbiAgICAgICAgICAgIHRoaXMucGllY2VzTGlzdFtpZHhdLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJaID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMiAqIDkwO1xyXG4gICAgICAgICAgICAvLyBzZXQgcG9zXHJcbiAgICAgICAgICAgIGxldCB2ZWxvY2l0eTogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgICAgICB2ZWxvY2l0eS54ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgICAgICAgICB2ZWxvY2l0eS55ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgICAgICAgICB2ZWxvY2l0eS56ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLnBpZWNlc0xpc3RbaWR4XS50cmFuc2Zvcm0ucG9zaXRpb24gPSB0aGlzLnRhcmdldC50cmFuc2Zvcm0ucG9zaXRpb24uY2xvbmUoKTtcclxuICAgICAgICAgICAgTGF5YS5WZWN0b3IzLmFkZCh0aGlzLnBpZWNlc0xpc3RbaWR4XS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiwgdmVsb2NpdHksIHRoaXMucGllY2VzTGlzdFtpZHhdLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgLy8gc2V0IHZlbG9jaXR5IG9mIHBpZWNlc1xyXG4gICAgICAgICAgICBMYXlhLlZlY3RvcjMuc2NhbGUodmVsb2NpdHksIDUwLCB2ZWxvY2l0eSk7XHJcbiAgICAgICAgICAgICh0aGlzLnBpZWNlc0xpc3RbaWR4XS5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkgYXMgTGF5YS5SaWdpZGJvZHkzRCkubGluZWFyVmVsb2NpdHkgPSB2ZWxvY2l0eS5jbG9uZSgpO1xyXG4gICAgICAgICAgICAvLyBzZXQgaGlkaW5nIGVmZmVjdFxyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMucGllY2VzTGlzdFtpZHhdLnRyYW5zZm9ybS5sb2NhbFNjYWxlLCB7IHg6IHNjYWxlWCAvIDIsIHk6IHNjYWxlWSAvIDIsIHo6IHNjYWxlWiAvIDIgfSwgQ29uc3QuUGllY2VzQnJva2VuVGltZSAvIDYwICogMTAwMCwgTGF5YS5FYXNlLmxpbmVhck5vbmUpO1xyXG4gICAgICAgICAgICBMYXlhLlR3ZWVuLnRvKHRoaXMucGllY2VzTGlzdFtpZHhdLm1lc2hSZW5kZXJlci5tYXRlcmlhbCwgeyBhbGJlZG9Db2xvckE6IDAgfSwgQ29uc3QuUGllY2VzQnJva2VuVGltZSAvIDYwICogMTAwMCwgTGF5YS5FYXNlLmxpbmVhck5vbmUsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWVjZXNMaXN0WytpZHhdLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbmltcG9ydCAqIGFzIENvbnN0IGZyb20gXCIuLi9Db25zdFwiO1xyXG5pbXBvcnQgTmF2aWdhdG9yIGZyb20gXCIuLi91dGlsL05hdmlnYXRvclwiO1xyXG5pbXBvcnQgQnVsbGV0IGZyb20gXCIuLi9jb21wb25lbnQvQnVsbGV0XCI7XHJcbmltcG9ydCBUYXJnZXQgZnJvbSBcIi4uL2NvbXBvbmVudC9UYXJnZXRcIjtcclxuaW1wb3J0IEd1YXJkIGZyb20gXCIuLi9jb21wb25lbnQvR3VhcmRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIHVpLmdhbWUuR2FtZVNjZW5lVUkge1xyXG4gICAgc3RhdGljIGluc3RhbmNlOiBHYW1lU2NlbmU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDmiZPlvIDor6XljZXkvovpobXpnaLvvIzop6blj5Fvbk9wZW5lZFxyXG4gICAgICogQHBhcmFtIHBhcmFtICBvbk9wZW5lZOaWueazleeahOS8oOWPglxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgb3Blbkluc3RhbmNlKHBhcmFtPzogYW55KSB7XHJcbiAgICAgICAgaWYgKEdhbWVTY2VuZS5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBHYW1lU2NlbmUuaW5zdGFuY2Uub25PcGVuZWQocGFyYW0pO1xyXG4gICAgICAgICAgICAvLyBHYW1lU2NlbmUuaW5zdGFuY2Uuc2hvd1R1dG9yaWFsKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgTGF5YS5TY2VuZS5vcGVuKENvbnN0LlVSTF9HYW1lU2NlbmUsIGZhbHNlLCBwYXJhbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uT3BlbmVkKHBhcmFtPzogYW55KSB7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAvLyB0aGlzLnN0YXRlID0gQ29uc3QuR2FtZVN0YXRlLlJFQURZO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzY2VuZTNEOiBMYXlhLlNjZW5lM0Q7XHJcbiAgICBwcml2YXRlIGNhbWVyYTogTGF5YS5DYW1lcmE7XHJcbiAgICBwcml2YXRlIGRpcmVjdGlvbkxpZ2h0OiBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG5cclxuICAgIC8qKiBzdGFnZSAqL1xyXG4gICAgcHVibGljIGdhbWVTdGFnZTogTGF5YS5TcHJpdGUzRDtcclxuICAgIHB1YmxpYyBzdGFnZUlkeDogbnVtYmVyO1xyXG4gICAgcHVibGljIE1heEJ1bGxldE51bTogbnVtYmVyID0gMTAwO1xyXG4gICAgcHVibGljIGN1cnJCdWxsZXROdW06IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgd2luQ2hlY2tDbnQ6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgaXNTdGFnZVN0YXJ0OiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIGJ1bGxldCAqL1xyXG4gICAgcHJpdmF0ZSBfYnVsbGV0OiBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgIHB1YmxpYyBidWxsZXRUeXBlOiBudW1iZXIgPSBDb25zdC5CdWxsZXRUeXBlLkRFRkFVTFQ7XHJcblxyXG4gICAgLyoqIGNhbm5vbiAqL1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXJBbmk6IExheWEuQW5pbWF0b3I7XHJcbiAgICBwcml2YXRlIHNob290VGltZTogbnVtYmVyID0gLTE7O1xyXG5cclxuICAgIC8qKiByYXljYXN0ICovXHJcbiAgICBwcml2YXRlIG1vdXNlUG9pbnQ6IExheWEuVmVjdG9yMiA9IG5ldyBMYXlhLlZlY3RvcjIoKTtcclxuICAgIHByaXZhdGUgcmF5OiBMYXlhLlJheSA9IG5ldyBMYXlhLlJheShuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApLCBuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApKTtcclxuICAgIHByaXZhdGUgaGl0UmVzdWx0OiBMYXlhLkhpdFJlc3VsdCA9IG5ldyBMYXlhLkhpdFJlc3VsdCgpO1xyXG5cclxuICAgIC8qKiBnYW1lIHN0YXRlICovXHJcbiAgICBwdWJsaWMgc3RhdGU6IG51bWJlciA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgR2FtZVNjZW5lLmluc3RhbmNlID0gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5pbml0U2NlbmUzRCgpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRQbGF5ZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0QnVsbGV0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhZ2VJZHggPSAxO1xyXG4gICAgICAgIHRoaXMubG9hZEdhbWVTdGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBpbml0aWFsaXplIHNjZW5lICovXHJcbiAgICBwcml2YXRlIGluaXRTY2VuZTNEKCkge1xyXG4gICAgICAgIC8vIGFkZCBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUzRCA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKSBhcyBMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgICAgIC8vIGNhbWVyYVxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5zY2VuZTNELmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IENvbnN0LkNhbWVyYUluaXRQb3MuY2xvbmUoKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gQ29uc3QuQ2FtZXJhSW5pdFJvdEV1bGVyLmNsb25lKCk7XHJcblxyXG4gICAgICAgIC8vIGRpcmVjdGlvbiBsaWdodFxyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uTGlnaHQgPSB0aGlzLnNjZW5lM0QuYWRkQ2hpbGQobmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSkgYXMgTGF5YS5EaXJlY3Rpb25MaWdodDtcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gQ29uc3QuTGlnaHRJbml0UG9zLmNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbkV1bGVyID0gQ29uc3QuTGlnaHRJbml0Um90RXVsZXIuY2xvbmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogaW5pdGlhbGl6ZSBwbGF5ZXIgKi9cclxuICAgIHByaXZhdGUgaW5pdFBsYXllcigpIHtcclxuICAgICAgICBMYXlhLlNwcml0ZTNELmxvYWQoQ29uc3QuUGxheWVyUmVzVXJsLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyZXMpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSByZXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUzRC5hZGRDaGlsZCh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyQW5pID0gdGhpcy5wbGF5ZXIuZ2V0Q29tcG9uZW50KExheWEuQW5pbWF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvbiA9IENvbnN0LlBsYXllckluaXRQb3MuY2xvbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlciA9IENvbnN0LlBsYXllckluaXRSb3QuY2xvbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBDb25zdC5QbGF5ZXJJbml0U2NhbGUuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm5hbWUgPSBcInBsYXllclwiO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNoYWRvd01hdDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSAodGhpcy5wbGF5ZXIuZ2V0Q2hpbGRCeU5hbWUoXCJzaGFkb3dfMFwiKSBhcyBMYXlhLk1lc2hTcHJpdGUzRCkubWVzaFJlbmRlcmVyLm1hdGVyaWFsIGFzIExheWEuQmxpbm5QaG9uZ01hdGVyaWFsO1xyXG4gICAgICAgICAgICBzaGFkb3dNYXQucmVuZGVyTW9kZSA9IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsLlJFTkRFUk1PREVfVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgIHNoYWRvd01hdC5hbGJlZG9Db2xvckEgPSAwLjI7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgc2hvb3RpbmcgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyQW5pLmdldERlZmF1bHRTdGF0ZSgpLmNsaXAuaXNsb29waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJBbmkucGxheSgpO1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBwbGF5IHNob290aW5nIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG9vdFRpbWUtLTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNob290VGltZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIHBsYXlpbmdcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllckFuaS5zcGVlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogaW5pdCBidWxsZXQgKi9cclxuICAgIHByaXZhdGUgaW5pdEJ1bGxldCgpIHtcclxuICAgICAgICBsZXQgcmFkaXVzOiBudW1iZXIgPSBDb25zdC5CdWxsZXRSYWRpdXM7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0ID0gbmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVTcGhlcmUocmFkaXVzKSk7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0Lm5hbWUgPSBcIl9idWxsZXRcIjtcclxuXHJcbiAgICAgICAgLy8gdHJhc2Zvcm1cclxuICAgICAgICB0aGlzLl9idWxsZXQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBDb25zdC5CdWxsZXRJbml0UG9zLmNsb25lKCk7XHJcbiAgICAgICAgdGhpcy5fYnVsbGV0LnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSBDb25zdC5CdWxsZXRJbml0Um90LmNsb25lKCk7XHJcblxyXG4gICAgICAgIC8vIGFkZCByaWdpZGJvZHlcclxuICAgICAgICBsZXQgYnVsbGV0UmlnaWQ6IExheWEuUmlnaWRib2R5M0QgPSB0aGlzLl9idWxsZXQuYWRkQ29tcG9uZW50KExheWEuUmlnaWRib2R5M0QpO1xyXG4gICAgICAgIGJ1bGxldFJpZ2lkLmNvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5TcGhlcmVDb2xsaWRlclNoYXBlKHJhZGl1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGxvYWQgZ2FtZSBzdGFnZSBieSBpbmRleCAqL1xyXG4gICAgcHJpdmF0ZSBsb2FkR2FtZVN0YWdlKCkge1xyXG4gICAgICAgIC8vIGRlc3Ryb3kgb2xkIHN0YWdlXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZVN0YWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YWdlLmRlc3Ryb3lDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFnZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub2ZmKExheWEuRXZlbnQuQ0xJQ0ssIHRoaXMsIHRoaXMub25DbGljayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZXNldFxyXG4gICAgICAgIHRoaXMuY3VyckJ1bGxldE51bSA9IDA7XHJcbiAgICAgICAgdGhpcy53aW5DaGVja0NudCA9IDA7XHJcbiAgICAgICAgdGhpcy5pc1N0YWdlU3RhcnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gbG9hZCBzdGFnZVxyXG4gICAgICAgIGxldCBzYXRnZVJlc1VybDogc3RyaW5nID0gQ29uc3QuU3RhZ2VSZXNVcmwgKyB0aGlzLnN0YWdlSWR4ICsgXCIubGhcIjtcclxuICAgICAgICBMYXlhLlNwcml0ZTNELmxvYWQoc2F0Z2VSZXNVcmwsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKHJlcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVTdGFnZSA9IHRoaXMuc2NlbmUzRC5hZGRDaGlsZChyZXMpIGFzIExheWEuU3ByaXRlM0Q7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgcG9zXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YWdlLnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uID0gQ29uc3QuU3RhZ2VJbml0UG9zLmNsb25lKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZVN0YWdlLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSBDb25zdC5TdGFnZUluaXRSb3QuY2xvbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lU3RhZ2UudHJhbnNmb3JtLmxvY2FsU2NhbGUgPSBDb25zdC5TdGFnZUluaXRTY2FsZS5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gZGVzdHJveSBhbmltYXRvciBjb21wb25lbnQ6IOS4jeeEtuS8mue6puadn+eJqeeQhueisOaSnuaViOaenFxyXG4gICAgICAgICAgICAodGhpcy5nYW1lU3RhZ2UuZ2V0Q29tcG9uZW50KExheWEuQW5pbWF0b3IpIGFzIExheWEuQW5pbWF0b3IpLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjaGlsZDogTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDA7IGkgPCB0aGlzLmdhbWVTdGFnZS5udW1DaGlsZHJlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZCA9IHRoaXMuZ2FtZVN0YWdlLmdldENoaWxkQXQoaSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgICAgICAgICAvKiogdGFyZ2V0IG9iamVjdCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUuc2VhcmNoKFwiT2JzdGFjbGVcIikgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkLm5hbWUgKyBcIiB0byB0YXJnZXRcIilcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgc2NpcHRcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0U2NyaXB0OiBUYXJnZXQgPSBjaGlsZC5hZGRDb21wb25lbnQoVGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5uYW1lLnNlYXJjaChcIkdsYXNzXCIpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0U2NyaXB0LnNldFR5cGUoQ29uc3QuVGFyZ2V0VHlwZS5HTEFTUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRTY3JpcHQuc2V0VHlwZShDb25zdC5UYXJnZXRUeXBlLkRFRkFVTFQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qKiBzdGFuZF9ib3ggKi9cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLm5hbWUuc2VhcmNoKFwiQ3ViZVwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hpbGQubmFtZSArIFwiIHRvIHN0YW5kXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubmFtZSA9IFwic3RhbmRcIjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29sbGlkZXJcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGlkZXI6IExheWEuUGh5c2ljc0NvbGxpZGVyID0gY2hpbGQuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYm91bmRpbmdCb3g6IExheWEuQm91bmRCb3ggPSBjaGlsZC5tZXNoRmlsdGVyLnNoYXJlZE1lc2guYm91bmRpbmdCb3guY2xvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZVg6IG51bWJlciA9IGJvdW5kaW5nQm94Lm1heC54IC0gYm91bmRpbmdCb3gubWluLng7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpemVZOiBudW1iZXIgPSBib3VuZGluZ0JveC5tYXgueSAtIGJvdW5kaW5nQm94Lm1pbi55O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzaXplWjogbnVtYmVyID0gYm91bmRpbmdCb3gubWF4LnogLSBib3VuZGluZ0JveC5taW4uejtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsaWRlci5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuQm94Q29sbGlkZXJTaGFwZShzaXplWCwgc2l6ZVksIHNpemVaKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qKiBzdGFuZF9jeWxpbmRlciAqL1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQubmFtZS5zZWFyY2goXCJDeWxpbmRlclwiKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2hpbGQubmFtZSArIFwiIHRvIHN0YW5kXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubmFtZSA9IFwic3RhbmRcIjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29sbGlkZXJcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGlkZXI6IExheWEuUGh5c2ljc0NvbGxpZGVyID0gY2hpbGQuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGlkZXJTaGFwZTogTGF5YS5NZXNoQ29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLk1lc2hDb2xsaWRlclNoYXBlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGlkZXJTaGFwZS5tZXNoID0gY2hpbGQubWVzaEZpbHRlci5zaGFyZWRNZXNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpZGVyLmNvbGxpZGVyU2hhcGUgPSBjb2xsaWRlclNoYXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLyoqIEd1YXJkICovXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGlsZC5uYW1lLnNlYXJjaChcIkd1YXJkXCIpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjaGlsZC5uYW1lICsgXCIgdG8gZ3VhcmRcIilcclxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgc2NyaXB0XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGd1YXJkOiBHdWFyZCA9IGNoaWxkLmFkZENvbXBvbmVudChHdWFyZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBzdGFnZSBsaXN0ZW5lclxyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lTG9vcCgxLCB0aGlzLCB0aGlzLnN0YWdlTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICAvLyBtb3VzZSBjbGljayBldmVudCBsaXN0ZW46IHNob290IGEgYnVsbGV0XHJcbiAgICAgICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5DTElDSywgdGhpcywgdGhpcy5vbkNsaWNrKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGdhbWUgc3RhZ2UgbGlzdGVuZXIgKi9cclxuICAgIHByaXZhdGUgc3RhZ2VMaXN0ZW5lcigpIHtcclxuICAgICAgICAvLyBwbGF5ZXIgd2luXHJcbiAgICAgICAgaWYgKHRoaXMud2luQ2hlY2tDbnQrKyA+PSBDb25zdC5NYXhXaW5DaGVja1RpbWUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJZb3Ugd2luLiBTdGFnZTogXCIgKyB0aGlzLnN0YWdlSWR4KTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0U3RhZ2UoKTtcclxuICAgICAgICAgICAgLy8gY2xlYXIgbGlzdGVuZXJcclxuICAgICAgICAgICAgTGF5YS50aW1lci5jbGVhcih0aGlzLCB0aGlzLnN0YWdlTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwbGF5ZXIgZmFpbDogb3V0IG9mIGFtbW9cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJCdWxsZXROdW0gPj0gdGhpcy5NYXhCdWxsZXROdW0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJvdXQgb2YgYW1tb1wiKTtcclxuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0KCk7XHJcbiAgICAgICAgICAgIExheWEudGltZXIuY2xlYXIodGhpcywgdGhpcy5zdGFnZUxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHJlc3RhcnQgY3VycmVudCBzdGFnZSAqL1xyXG4gICAgcmVzdGFydCgpIHtcclxuICAgICAgICB0aGlzLmxvYWRHYW1lU3RhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogc3RhcnQgbmV4dCBzdGFnZSAqL1xyXG4gICAgbmV4dFN0YWdlKCkge1xyXG4gICAgICAgIHRoaXMuc3RhZ2VJZHgrKztcclxuICAgICAgICBpZiAodGhpcy5zdGFnZUlkeCA8PSBDb25zdC5TdGFnZU51bSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRHYW1lU3RhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6YCa5YWzXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiogbW91c2UgY2xpY2sgZXZlbnQ6IHNob290IGEgYnVsbGV0ICovXHJcbiAgICBwcml2YXRlIG9uQ2xpY2soKSB7XHJcbiAgICAgICAgLy8gY2hlY2sgcmVzIGxvYWRpbmcgY29tcGxldGVcclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZVN0YWdlIHx8ICF0aGlzLnBsYXllciB8fCAhdGhpcy5fYnVsbGV0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHBsYXkgc2hvb3QgYW5pbWF0aW9uXHJcbiAgICAgICAgdGhpcy5zaG9vdFRpbWUgPSBDb25zdC5QbGF5ZXJTaG9vdExpZmVUaW1lO1xyXG4gICAgICAgIHRoaXMucGxheWVyQW5pLnNwZWVkID0gMTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHJheVxyXG4gICAgICAgIHRoaXMubW91c2VQb2ludC54ID0gTGF5YS5Nb3VzZU1hbmFnZXIuaW5zdGFuY2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubW91c2VQb2ludC55ID0gTGF5YS5Nb3VzZU1hbmFnZXIuaW5zdGFuY2UubW91c2VZO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnZpZXdwb3J0UG9pbnRUb1JheSh0aGlzLm1vdXNlUG9pbnQsIHRoaXMucmF5KTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IGJ1bGxldCBzaG9vdGluZyBkaXJlY3Rpb25cclxuICAgICAgICBsZXQgYnVsbGV0RGlyZWN0aW9uOiBMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUzRC5waHlzaWNzU2ltdWxhdGlvbi5yYXlDYXN0KHRoaXMucmF5LCB0aGlzLmhpdFJlc3VsdCwgMzApKSB7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiB2ZWN0b3I6IFtidWxsZXQgaW5pdCBwb2ludF0gdG8gW21vdXNlIGhpdCBwb2ludF1cclxuICAgICAgICAgICAgTGF5YS5WZWN0b3IzLnN1YnRyYWN0KHRoaXMuaGl0UmVzdWx0LnBvaW50LCBDb25zdC5CdWxsZXRJbml0UG9zLCBidWxsZXREaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZGlyZWN0aW9uIHZlY3RvcjogW2NhbWVyYSBwb2ludF0gdG8gW21vdXNlIGhpdCBwb2ludF1cclxuICAgICAgICAgICAgdmFyIGFWMzogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAvLyByYXkgZGlyZWN0aW9uIHNjYWxlOiB0byBkZXB0aCBzY2FsZVpcclxuICAgICAgICAgICAgbGV0IHNjYWxlVjogbnVtYmVyID0gdGhpcy5jYW1lcmEuZmFyUGxhbmU7XHJcbiAgICAgICAgICAgIHNjYWxlViA9IDIwO1xyXG4gICAgICAgICAgICBMYXlhLlZlY3RvcjMuc2NhbGUodGhpcy5yYXkuZGlyZWN0aW9uLCBzY2FsZVYsIGFWMyk7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGlvbiB2ZWN0b3I6IFtidWxsZXQgaW5pdCBwb2ludF0gdG8gW2NhbWVyYSBwb2ludF1cclxuICAgICAgICAgICAgdmFyIGJWMzogTGF5YS5WZWN0b3IzID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgICAgICBMYXlhLlZlY3RvcjMuc3VidHJhY3QodGhpcy5jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uLCBDb25zdC5CdWxsZXRJbml0UG9zLCBiVjMpO1xyXG4gICAgICAgICAgICAvLyBkaXJlY3Rpb24gdmVjdG9yOiBbYnVsbGV0IGluaXQgcG9pbnRdIHRvIFttb3VzZSBoaXQgcG9pbnRdXHJcbiAgICAgICAgICAgIExheWEuVmVjdG9yMy5hZGQoYVYzLCBiVjMsIGJ1bGxldERpcmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIExheWEuVmVjdG9yMy5ub3JtYWxpemUoYnVsbGV0RGlyZWN0aW9uLCBidWxsZXREaXJlY3Rpb24pO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgYnVsbGV0XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCdWxsZXQoQ29uc3QuQnVsbGV0VHlwZS5GUk9aRU4sIGJ1bGxldERpcmVjdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGNyZWF0ZSBidWxsZXQgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlQnVsbGV0KHR5cGU6IG51bWJlciwgZGlyZWN0aW9uOiBMYXlhLlZlY3RvcjMpIHtcclxuICAgICAgICB0aGlzLmJ1bGxldFR5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICBsZXQgYnVsbGV0OiBMYXlhLk1lc2hTcHJpdGUzRCA9IHRoaXMuX2J1bGxldC5jbG9uZSgpO1xyXG4gICAgICAgIGJ1bGxldC5uYW1lID0gXCJidWxsZXRcIjtcclxuICAgICAgICB0aGlzLnNjZW5lM0QuYWRkQ2hpbGQoYnVsbGV0KTtcclxuXHJcbiAgICAgICAgLy8gdHJhc2Zvcm1cclxuICAgICAgICBidWxsZXQudHJhbnNmb3JtLmxvY2FsUG9zaXRpb24gPSBDb25zdC5CdWxsZXRJbml0UG9zLmNsb25lKCk7XHJcbiAgICAgICAgYnVsbGV0LnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXIgPSBDb25zdC5CdWxsZXRJbml0Um90LmNsb25lKCk7XHJcbiAgICAgICAgTGF5YS5WZWN0b3IzLnNjYWxlKGJ1bGxldC50cmFuc2Zvcm0ubG9jYWxTY2FsZSwgQ29uc3QuQnVsbGV0U2NhbGVbdGhpcy5idWxsZXRUeXBlXSwgYnVsbGV0LnRyYW5zZm9ybS5sb2NhbFNjYWxlKTtcclxuXHJcbiAgICAgICAgLy8gYWRkIHJpZ2lkYm9keVxyXG4gICAgICAgIGxldCBidWxsZXRSaWdpZDogTGF5YS5SaWdpZGJvZHkzRCA9IGJ1bGxldC5nZXRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCk7XHJcblxyXG4gICAgICAgIC8vIHF1aWNrIG1vdmluZyBkZXRlY2lvblxyXG4gICAgICAgIGJ1bGxldFJpZ2lkLmNjZE1vdGlvblRocmVzaG9sZCA9IDAuMDAwMTtcclxuICAgICAgICBidWxsZXRSaWdpZC5jY2RTd2VwdFNwaGVyZVJhZGl1cyA9IENvbnN0LkJ1bGxldFJhZGl1cyAqIENvbnN0LkJ1bGxldFNjYWxlW3RoaXMuYnVsbGV0VHlwZV07XHJcblxyXG4gICAgICAgIC8vIHNldCBwaHlzaWNzXHJcbiAgICAgICAgYnVsbGV0UmlnaWQubWFzcyA9IENvbnN0LkJ1bGxldE1hc3NbdGhpcy5idWxsZXRUeXBlXTtcclxuXHJcbiAgICAgICAgLy8gc2V0IHZlbG9jaXR5XHJcbiAgICAgICAgbGV0IHZlbG9jaXR5OiBMYXlhLlZlY3RvcjMgPSBkaXJlY3Rpb24uY2xvbmUoKTtcclxuICAgICAgICBMYXlhLlZlY3RvcjMuc2NhbGUodmVsb2NpdHksIENvbnN0LkJ1bGxldFZlbG9jaXR5W3RoaXMuYnVsbGV0VHlwZV0sIHZlbG9jaXR5KTtcclxuICAgICAgICBidWxsZXRSaWdpZC5saW5lYXJWZWxvY2l0eSA9IHZlbG9jaXR5LmNsb25lKCk7XHJcblxyXG4gICAgICAgIC8vIGFkZCBzY3JpcHRcclxuICAgICAgICBsZXQgYnVsbGV0U2NyaXB0OiBCdWxsZXQgPSBidWxsZXQuYWRkQ29tcG9uZW50KEJ1bGxldCk7XHJcbiAgICAgICAgLy8gc2V0IHR5cGVcclxuICAgICAgICBidWxsZXRTY3JpcHQuc2V0VHlwZSh0aGlzLmJ1bGxldFR5cGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOW8gOaUvueJqeS9k+eJqeeQhuWPl+WKm++8mueOqeWutuacieaViOi+k+WFpeWJje+8jOWtkOW8ueWPkeWwhOi9qOi/ueW9oueKtuajgOa1i+aYr+WQpuacieeisOaSnlxyXG4gICAgICAgIGlmICghdGhpcy5pc1N0YWdlU3RhcnQpIHtcclxuICAgICAgICAgICAgdmFyIHNoYXBlID0gbmV3IExheWEuU3BoZXJlQ29sbGlkZXJTaGFwZShDb25zdC5CdWxsZXRSYWRpdXMgKiA1KTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrSGl0UmVzdWx0OiBMYXlhLkhpdFJlc3VsdFtdID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjZW5lM0QucGh5c2ljc1NpbXVsYXRpb24uc2hhcGVDYXN0QWxsKHNoYXBlLCBDb25zdC5CdWxsZXRJbml0UG9zLCB2ZWxvY2l0eSwgY2hlY2tIaXRSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIGluIGNoZWNrSGl0UmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrSGl0UmVzdWx0W2ldLmNvbGxpZGVyLm93bmVyLm5hbWUgIT09IFwic3RhbmRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU3RhZ2VTdGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xudmFyIFJFRzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XG5leHBvcnQgbW9kdWxlIHVpLmdhbWUge1xyXG4gICAgZXhwb3J0IGNsYXNzIEdhbWVTY2VuZVVJIGV4dGVuZHMgU2NlbmUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJnYW1lL0dhbWVTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBSRUcoXCJ1aS5nYW1lLkdhbWVTY2VuZVVJXCIsR2FtZVNjZW5lVUkpO1xyXG59XHIiXX0=
